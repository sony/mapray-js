{"version":3,"file":"maprayui.js","sources":["../../../../node_modules/core-js/internals/global.js","../../../../node_modules/core-js/internals/fails.js","../../../../node_modules/core-js/internals/descriptors.js","../../../../node_modules/core-js/internals/object-property-is-enumerable.js","../../../../node_modules/core-js/internals/create-property-descriptor.js","../../../../node_modules/core-js/internals/classof-raw.js","../../../../node_modules/core-js/internals/indexed-object.js","../../../../node_modules/core-js/internals/require-object-coercible.js","../../../../node_modules/core-js/internals/to-indexed-object.js","../../../../node_modules/core-js/internals/is-object.js","../../../../node_modules/core-js/internals/to-primitive.js","../../../../node_modules/core-js/internals/has.js","../../../../node_modules/core-js/internals/document-create-element.js","../../../../node_modules/core-js/internals/ie8-dom-define.js","../../../../node_modules/core-js/internals/object-get-own-property-descriptor.js","../../../../node_modules/core-js/internals/an-object.js","../../../../node_modules/core-js/internals/object-define-property.js","../../../../node_modules/core-js/internals/create-non-enumerable-property.js","../../../../node_modules/core-js/internals/set-global.js","../../../../node_modules/core-js/internals/shared-store.js","../../../../node_modules/core-js/internals/inspect-source.js","../../../../node_modules/core-js/internals/native-weak-map.js","../../../../node_modules/core-js/internals/shared.js","../../../../node_modules/core-js/internals/uid.js","../../../../node_modules/core-js/internals/shared-key.js","../../../../node_modules/core-js/internals/hidden-keys.js","../../../../node_modules/core-js/internals/internal-state.js","../../../../node_modules/core-js/internals/redefine.js","../../../../node_modules/core-js/internals/path.js","../../../../node_modules/core-js/internals/get-built-in.js","../../../../node_modules/core-js/internals/to-integer.js","../../../../node_modules/core-js/internals/to-length.js","../../../../node_modules/core-js/internals/to-absolute-index.js","../../../../node_modules/core-js/internals/array-includes.js","../../../../node_modules/core-js/internals/object-keys-internal.js","../../../../node_modules/core-js/internals/enum-bug-keys.js","../../../../node_modules/core-js/internals/object-get-own-property-names.js","../../../../node_modules/core-js/internals/object-get-own-property-symbols.js","../../../../node_modules/core-js/internals/own-keys.js","../../../../node_modules/core-js/internals/copy-constructor-properties.js","../../../../node_modules/core-js/internals/is-forced.js","../../../../node_modules/core-js/internals/export.js","../../../../node_modules/core-js/internals/is-array.js","../../../../node_modules/core-js/internals/to-object.js","../../../../node_modules/core-js/internals/create-property.js","../../../../node_modules/core-js/internals/native-symbol.js","../../../../node_modules/core-js/internals/use-symbol-as-uid.js","../../../../node_modules/core-js/internals/well-known-symbol.js","../../../../node_modules/core-js/internals/array-species-create.js","../../../../node_modules/core-js/internals/engine-user-agent.js","../../../../node_modules/core-js/internals/engine-v8-version.js","../../../../node_modules/core-js/internals/array-method-has-species-support.js","../../../../node_modules/core-js/modules/es.array.concat.js","../../../../node_modules/core-js/internals/a-function.js","../../../../node_modules/core-js/internals/function-bind-context.js","../../../../node_modules/core-js/internals/array-iteration.js","../../../../node_modules/core-js/internals/object-keys.js","../../../../node_modules/core-js/internals/object-define-properties.js","../../../../node_modules/core-js/internals/html.js","../../../../node_modules/core-js/internals/object-create.js","../../../../node_modules/core-js/internals/add-to-unscopables.js","../../../../node_modules/core-js/internals/array-method-uses-to-length.js","../../../../node_modules/core-js/modules/es.array.find.js","../../../../node_modules/core-js/modules/es.array.slice.js","../../../../node_modules/core-js/internals/function-bind.js","../../../../node_modules/core-js/modules/es.function.bind.js","../../../../node_modules/core-js/internals/math-sign.js","../../../../node_modules/core-js/modules/es.math.sign.js","../../../../node_modules/core-js/internals/this-number-value.js","../../../../node_modules/core-js/internals/string-repeat.js","../../../../node_modules/core-js/modules/es.number.to-fixed.js","../../../../node_modules/core-js/internals/to-string-tag-support.js","../../../../node_modules/core-js/internals/classof.js","../../../../node_modules/core-js/internals/object-to-string.js","../../../../node_modules/core-js/modules/es.object.to-string.js","../../../../node_modules/core-js/internals/whitespaces.js","../../../../node_modules/core-js/internals/string-trim.js","../../../../node_modules/core-js/internals/number-parse-float.js","../../../../node_modules/core-js/modules/es.parse-float.js","../../../../node_modules/core-js/internals/native-promise-constructor.js","../../../../node_modules/core-js/internals/redefine-all.js","../../../../node_modules/core-js/internals/set-to-string-tag.js","../../../../node_modules/core-js/internals/set-species.js","../../../../node_modules/core-js/internals/an-instance.js","../../../../node_modules/core-js/internals/iterators.js","../../../../node_modules/core-js/internals/is-array-iterator-method.js","../../../../node_modules/core-js/internals/get-iterator-method.js","../../../../node_modules/core-js/internals/call-with-safe-iteration-closing.js","../../../../node_modules/core-js/internals/iterate.js","../../../../node_modules/core-js/internals/check-correctness-of-iteration.js","../../../../node_modules/core-js/internals/species-constructor.js","../../../../node_modules/core-js/internals/engine-is-ios.js","../../../../node_modules/core-js/internals/task.js","../../../../node_modules/core-js/internals/microtask.js","../../../../node_modules/core-js/internals/new-promise-capability.js","../../../../node_modules/core-js/internals/promise-resolve.js","../../../../node_modules/core-js/internals/host-report-errors.js","../../../../node_modules/core-js/internals/perform.js","../../../../node_modules/core-js/modules/es.promise.js","../../../../node_modules/core-js/internals/regexp-flags.js","../../../../node_modules/core-js/internals/regexp-sticky-helpers.js","../../../../node_modules/core-js/internals/regexp-exec.js","../../../../node_modules/core-js/modules/es.regexp.exec.js","../../../../node_modules/core-js/internals/fix-regexp-well-known-symbol-logic.js","../../../../node_modules/core-js/internals/is-regexp.js","../../../../node_modules/core-js/internals/string-multibyte.js","../../../../node_modules/core-js/internals/advance-string-index.js","../../../../node_modules/core-js/internals/regexp-exec-abstract.js","../../../../node_modules/core-js/modules/es.string.split.js","../../../../node_modules/regenerator-runtime/runtime.js","../../src/StandardUIViewer.js","../../src/index.js"],"sourcesContent":["var check = function (it) {\n  return it && it.Math == Math && it;\n};\n\n// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nmodule.exports =\n  // eslint-disable-next-line no-undef\n  check(typeof globalThis == 'object' && globalThis) ||\n  check(typeof window == 'object' && window) ||\n  check(typeof self == 'object' && self) ||\n  check(typeof global == 'object' && global) ||\n  // eslint-disable-next-line no-new-func\n  Function('return this')();\n","module.exports = function (exec) {\n  try {\n    return !!exec();\n  } catch (error) {\n    return true;\n  }\n};\n","var fails = require('../internals/fails');\n\n// Thank's IE8 for his funny defineProperty\nmodule.exports = !fails(function () {\n  return Object.defineProperty({}, 1, { get: function () { return 7; } })[1] != 7;\n});\n","'use strict';\nvar nativePropertyIsEnumerable = {}.propertyIsEnumerable;\nvar getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n// Nashorn ~ JDK8 bug\nvar NASHORN_BUG = getOwnPropertyDescriptor && !nativePropertyIsEnumerable.call({ 1: 2 }, 1);\n\n// `Object.prototype.propertyIsEnumerable` method implementation\n// https://tc39.github.io/ecma262/#sec-object.prototype.propertyisenumerable\nexports.f = NASHORN_BUG ? function propertyIsEnumerable(V) {\n  var descriptor = getOwnPropertyDescriptor(this, V);\n  return !!descriptor && descriptor.enumerable;\n} : nativePropertyIsEnumerable;\n","module.exports = function (bitmap, value) {\n  return {\n    enumerable: !(bitmap & 1),\n    configurable: !(bitmap & 2),\n    writable: !(bitmap & 4),\n    value: value\n  };\n};\n","var toString = {}.toString;\n\nmodule.exports = function (it) {\n  return toString.call(it).slice(8, -1);\n};\n","var fails = require('../internals/fails');\nvar classof = require('../internals/classof-raw');\n\nvar split = ''.split;\n\n// fallback for non-array-like ES3 and non-enumerable old V8 strings\nmodule.exports = fails(function () {\n  // throws an error in rhino, see https://github.com/mozilla/rhino/issues/346\n  // eslint-disable-next-line no-prototype-builtins\n  return !Object('z').propertyIsEnumerable(0);\n}) ? function (it) {\n  return classof(it) == 'String' ? split.call(it, '') : Object(it);\n} : Object;\n","// `RequireObjectCoercible` abstract operation\n// https://tc39.github.io/ecma262/#sec-requireobjectcoercible\nmodule.exports = function (it) {\n  if (it == undefined) throw TypeError(\"Can't call method on \" + it);\n  return it;\n};\n","// toObject with fallback for non-array-like ES3 strings\nvar IndexedObject = require('../internals/indexed-object');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\n\nmodule.exports = function (it) {\n  return IndexedObject(requireObjectCoercible(it));\n};\n","module.exports = function (it) {\n  return typeof it === 'object' ? it !== null : typeof it === 'function';\n};\n","var isObject = require('../internals/is-object');\n\n// `ToPrimitive` abstract operation\n// https://tc39.github.io/ecma262/#sec-toprimitive\n// instead of the ES6 spec version, we didn't implement @@toPrimitive case\n// and the second argument - flag - preferred type is a string\nmodule.exports = function (input, PREFERRED_STRING) {\n  if (!isObject(input)) return input;\n  var fn, val;\n  if (PREFERRED_STRING && typeof (fn = input.toString) == 'function' && !isObject(val = fn.call(input))) return val;\n  if (typeof (fn = input.valueOf) == 'function' && !isObject(val = fn.call(input))) return val;\n  if (!PREFERRED_STRING && typeof (fn = input.toString) == 'function' && !isObject(val = fn.call(input))) return val;\n  throw TypeError(\"Can't convert object to primitive value\");\n};\n","var hasOwnProperty = {}.hasOwnProperty;\n\nmodule.exports = function (it, key) {\n  return hasOwnProperty.call(it, key);\n};\n","var global = require('../internals/global');\nvar isObject = require('../internals/is-object');\n\nvar document = global.document;\n// typeof document.createElement is 'object' in old IE\nvar EXISTS = isObject(document) && isObject(document.createElement);\n\nmodule.exports = function (it) {\n  return EXISTS ? document.createElement(it) : {};\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar fails = require('../internals/fails');\nvar createElement = require('../internals/document-create-element');\n\n// Thank's IE8 for his funny defineProperty\nmodule.exports = !DESCRIPTORS && !fails(function () {\n  return Object.defineProperty(createElement('div'), 'a', {\n    get: function () { return 7; }\n  }).a != 7;\n});\n","var DESCRIPTORS = require('../internals/descriptors');\nvar propertyIsEnumerableModule = require('../internals/object-property-is-enumerable');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar toPrimitive = require('../internals/to-primitive');\nvar has = require('../internals/has');\nvar IE8_DOM_DEFINE = require('../internals/ie8-dom-define');\n\nvar nativeGetOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n// `Object.getOwnPropertyDescriptor` method\n// https://tc39.github.io/ecma262/#sec-object.getownpropertydescriptor\nexports.f = DESCRIPTORS ? nativeGetOwnPropertyDescriptor : function getOwnPropertyDescriptor(O, P) {\n  O = toIndexedObject(O);\n  P = toPrimitive(P, true);\n  if (IE8_DOM_DEFINE) try {\n    return nativeGetOwnPropertyDescriptor(O, P);\n  } catch (error) { /* empty */ }\n  if (has(O, P)) return createPropertyDescriptor(!propertyIsEnumerableModule.f.call(O, P), O[P]);\n};\n","var isObject = require('../internals/is-object');\n\nmodule.exports = function (it) {\n  if (!isObject(it)) {\n    throw TypeError(String(it) + ' is not an object');\n  } return it;\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar IE8_DOM_DEFINE = require('../internals/ie8-dom-define');\nvar anObject = require('../internals/an-object');\nvar toPrimitive = require('../internals/to-primitive');\n\nvar nativeDefineProperty = Object.defineProperty;\n\n// `Object.defineProperty` method\n// https://tc39.github.io/ecma262/#sec-object.defineproperty\nexports.f = DESCRIPTORS ? nativeDefineProperty : function defineProperty(O, P, Attributes) {\n  anObject(O);\n  P = toPrimitive(P, true);\n  anObject(Attributes);\n  if (IE8_DOM_DEFINE) try {\n    return nativeDefineProperty(O, P, Attributes);\n  } catch (error) { /* empty */ }\n  if ('get' in Attributes || 'set' in Attributes) throw TypeError('Accessors not supported');\n  if ('value' in Attributes) O[P] = Attributes.value;\n  return O;\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar definePropertyModule = require('../internals/object-define-property');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\n\nmodule.exports = DESCRIPTORS ? function (object, key, value) {\n  return definePropertyModule.f(object, key, createPropertyDescriptor(1, value));\n} : function (object, key, value) {\n  object[key] = value;\n  return object;\n};\n","var global = require('../internals/global');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\n\nmodule.exports = function (key, value) {\n  try {\n    createNonEnumerableProperty(global, key, value);\n  } catch (error) {\n    global[key] = value;\n  } return value;\n};\n","var global = require('../internals/global');\nvar setGlobal = require('../internals/set-global');\n\nvar SHARED = '__core-js_shared__';\nvar store = global[SHARED] || setGlobal(SHARED, {});\n\nmodule.exports = store;\n","var store = require('../internals/shared-store');\n\nvar functionToString = Function.toString;\n\n// this helper broken in `3.4.1-3.4.4`, so we can't use `shared` helper\nif (typeof store.inspectSource != 'function') {\n  store.inspectSource = function (it) {\n    return functionToString.call(it);\n  };\n}\n\nmodule.exports = store.inspectSource;\n","var global = require('../internals/global');\nvar inspectSource = require('../internals/inspect-source');\n\nvar WeakMap = global.WeakMap;\n\nmodule.exports = typeof WeakMap === 'function' && /native code/.test(inspectSource(WeakMap));\n","var IS_PURE = require('../internals/is-pure');\nvar store = require('../internals/shared-store');\n\n(module.exports = function (key, value) {\n  return store[key] || (store[key] = value !== undefined ? value : {});\n})('versions', []).push({\n  version: '3.6.4',\n  mode: IS_PURE ? 'pure' : 'global',\n  copyright: 'Â© 2020 Denis Pushkarev (zloirock.ru)'\n});\n","var id = 0;\nvar postfix = Math.random();\n\nmodule.exports = function (key) {\n  return 'Symbol(' + String(key === undefined ? '' : key) + ')_' + (++id + postfix).toString(36);\n};\n","var shared = require('../internals/shared');\nvar uid = require('../internals/uid');\n\nvar keys = shared('keys');\n\nmodule.exports = function (key) {\n  return keys[key] || (keys[key] = uid(key));\n};\n","module.exports = {};\n","var NATIVE_WEAK_MAP = require('../internals/native-weak-map');\nvar global = require('../internals/global');\nvar isObject = require('../internals/is-object');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar objectHas = require('../internals/has');\nvar sharedKey = require('../internals/shared-key');\nvar hiddenKeys = require('../internals/hidden-keys');\n\nvar WeakMap = global.WeakMap;\nvar set, get, has;\n\nvar enforce = function (it) {\n  return has(it) ? get(it) : set(it, {});\n};\n\nvar getterFor = function (TYPE) {\n  return function (it) {\n    var state;\n    if (!isObject(it) || (state = get(it)).type !== TYPE) {\n      throw TypeError('Incompatible receiver, ' + TYPE + ' required');\n    } return state;\n  };\n};\n\nif (NATIVE_WEAK_MAP) {\n  var store = new WeakMap();\n  var wmget = store.get;\n  var wmhas = store.has;\n  var wmset = store.set;\n  set = function (it, metadata) {\n    wmset.call(store, it, metadata);\n    return metadata;\n  };\n  get = function (it) {\n    return wmget.call(store, it) || {};\n  };\n  has = function (it) {\n    return wmhas.call(store, it);\n  };\n} else {\n  var STATE = sharedKey('state');\n  hiddenKeys[STATE] = true;\n  set = function (it, metadata) {\n    createNonEnumerableProperty(it, STATE, metadata);\n    return metadata;\n  };\n  get = function (it) {\n    return objectHas(it, STATE) ? it[STATE] : {};\n  };\n  has = function (it) {\n    return objectHas(it, STATE);\n  };\n}\n\nmodule.exports = {\n  set: set,\n  get: get,\n  has: has,\n  enforce: enforce,\n  getterFor: getterFor\n};\n","var global = require('../internals/global');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar has = require('../internals/has');\nvar setGlobal = require('../internals/set-global');\nvar inspectSource = require('../internals/inspect-source');\nvar InternalStateModule = require('../internals/internal-state');\n\nvar getInternalState = InternalStateModule.get;\nvar enforceInternalState = InternalStateModule.enforce;\nvar TEMPLATE = String(String).split('String');\n\n(module.exports = function (O, key, value, options) {\n  var unsafe = options ? !!options.unsafe : false;\n  var simple = options ? !!options.enumerable : false;\n  var noTargetGet = options ? !!options.noTargetGet : false;\n  if (typeof value == 'function') {\n    if (typeof key == 'string' && !has(value, 'name')) createNonEnumerableProperty(value, 'name', key);\n    enforceInternalState(value).source = TEMPLATE.join(typeof key == 'string' ? key : '');\n  }\n  if (O === global) {\n    if (simple) O[key] = value;\n    else setGlobal(key, value);\n    return;\n  } else if (!unsafe) {\n    delete O[key];\n  } else if (!noTargetGet && O[key]) {\n    simple = true;\n  }\n  if (simple) O[key] = value;\n  else createNonEnumerableProperty(O, key, value);\n// add fake Function#toString for correct work wrapped methods / constructors with methods like LoDash isNative\n})(Function.prototype, 'toString', function toString() {\n  return typeof this == 'function' && getInternalState(this).source || inspectSource(this);\n});\n","var global = require('../internals/global');\n\nmodule.exports = global;\n","var path = require('../internals/path');\nvar global = require('../internals/global');\n\nvar aFunction = function (variable) {\n  return typeof variable == 'function' ? variable : undefined;\n};\n\nmodule.exports = function (namespace, method) {\n  return arguments.length < 2 ? aFunction(path[namespace]) || aFunction(global[namespace])\n    : path[namespace] && path[namespace][method] || global[namespace] && global[namespace][method];\n};\n","var ceil = Math.ceil;\nvar floor = Math.floor;\n\n// `ToInteger` abstract operation\n// https://tc39.github.io/ecma262/#sec-tointeger\nmodule.exports = function (argument) {\n  return isNaN(argument = +argument) ? 0 : (argument > 0 ? floor : ceil)(argument);\n};\n","var toInteger = require('../internals/to-integer');\n\nvar min = Math.min;\n\n// `ToLength` abstract operation\n// https://tc39.github.io/ecma262/#sec-tolength\nmodule.exports = function (argument) {\n  return argument > 0 ? min(toInteger(argument), 0x1FFFFFFFFFFFFF) : 0; // 2 ** 53 - 1 == 9007199254740991\n};\n","var toInteger = require('../internals/to-integer');\n\nvar max = Math.max;\nvar min = Math.min;\n\n// Helper for a popular repeating case of the spec:\n// Let integer be ? ToInteger(index).\n// If integer < 0, let result be max((length + integer), 0); else let result be min(integer, length).\nmodule.exports = function (index, length) {\n  var integer = toInteger(index);\n  return integer < 0 ? max(integer + length, 0) : min(integer, length);\n};\n","var toIndexedObject = require('../internals/to-indexed-object');\nvar toLength = require('../internals/to-length');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\n\n// `Array.prototype.{ indexOf, includes }` methods implementation\nvar createMethod = function (IS_INCLUDES) {\n  return function ($this, el, fromIndex) {\n    var O = toIndexedObject($this);\n    var length = toLength(O.length);\n    var index = toAbsoluteIndex(fromIndex, length);\n    var value;\n    // Array#includes uses SameValueZero equality algorithm\n    // eslint-disable-next-line no-self-compare\n    if (IS_INCLUDES && el != el) while (length > index) {\n      value = O[index++];\n      // eslint-disable-next-line no-self-compare\n      if (value != value) return true;\n    // Array#indexOf ignores holes, Array#includes - not\n    } else for (;length > index; index++) {\n      if ((IS_INCLUDES || index in O) && O[index] === el) return IS_INCLUDES || index || 0;\n    } return !IS_INCLUDES && -1;\n  };\n};\n\nmodule.exports = {\n  // `Array.prototype.includes` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.includes\n  includes: createMethod(true),\n  // `Array.prototype.indexOf` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.indexof\n  indexOf: createMethod(false)\n};\n","var has = require('../internals/has');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar indexOf = require('../internals/array-includes').indexOf;\nvar hiddenKeys = require('../internals/hidden-keys');\n\nmodule.exports = function (object, names) {\n  var O = toIndexedObject(object);\n  var i = 0;\n  var result = [];\n  var key;\n  for (key in O) !has(hiddenKeys, key) && has(O, key) && result.push(key);\n  // Don't enum bug & hidden keys\n  while (names.length > i) if (has(O, key = names[i++])) {\n    ~indexOf(result, key) || result.push(key);\n  }\n  return result;\n};\n","// IE8- don't enum bug keys\nmodule.exports = [\n  'constructor',\n  'hasOwnProperty',\n  'isPrototypeOf',\n  'propertyIsEnumerable',\n  'toLocaleString',\n  'toString',\n  'valueOf'\n];\n","var internalObjectKeys = require('../internals/object-keys-internal');\nvar enumBugKeys = require('../internals/enum-bug-keys');\n\nvar hiddenKeys = enumBugKeys.concat('length', 'prototype');\n\n// `Object.getOwnPropertyNames` method\n// https://tc39.github.io/ecma262/#sec-object.getownpropertynames\nexports.f = Object.getOwnPropertyNames || function getOwnPropertyNames(O) {\n  return internalObjectKeys(O, hiddenKeys);\n};\n","exports.f = Object.getOwnPropertySymbols;\n","var getBuiltIn = require('../internals/get-built-in');\nvar getOwnPropertyNamesModule = require('../internals/object-get-own-property-names');\nvar getOwnPropertySymbolsModule = require('../internals/object-get-own-property-symbols');\nvar anObject = require('../internals/an-object');\n\n// all object keys, includes non-enumerable and symbols\nmodule.exports = getBuiltIn('Reflect', 'ownKeys') || function ownKeys(it) {\n  var keys = getOwnPropertyNamesModule.f(anObject(it));\n  var getOwnPropertySymbols = getOwnPropertySymbolsModule.f;\n  return getOwnPropertySymbols ? keys.concat(getOwnPropertySymbols(it)) : keys;\n};\n","var has = require('../internals/has');\nvar ownKeys = require('../internals/own-keys');\nvar getOwnPropertyDescriptorModule = require('../internals/object-get-own-property-descriptor');\nvar definePropertyModule = require('../internals/object-define-property');\n\nmodule.exports = function (target, source) {\n  var keys = ownKeys(source);\n  var defineProperty = definePropertyModule.f;\n  var getOwnPropertyDescriptor = getOwnPropertyDescriptorModule.f;\n  for (var i = 0; i < keys.length; i++) {\n    var key = keys[i];\n    if (!has(target, key)) defineProperty(target, key, getOwnPropertyDescriptor(source, key));\n  }\n};\n","var fails = require('../internals/fails');\n\nvar replacement = /#|\\.prototype\\./;\n\nvar isForced = function (feature, detection) {\n  var value = data[normalize(feature)];\n  return value == POLYFILL ? true\n    : value == NATIVE ? false\n    : typeof detection == 'function' ? fails(detection)\n    : !!detection;\n};\n\nvar normalize = isForced.normalize = function (string) {\n  return String(string).replace(replacement, '.').toLowerCase();\n};\n\nvar data = isForced.data = {};\nvar NATIVE = isForced.NATIVE = 'N';\nvar POLYFILL = isForced.POLYFILL = 'P';\n\nmodule.exports = isForced;\n","var global = require('../internals/global');\nvar getOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar redefine = require('../internals/redefine');\nvar setGlobal = require('../internals/set-global');\nvar copyConstructorProperties = require('../internals/copy-constructor-properties');\nvar isForced = require('../internals/is-forced');\n\n/*\n  options.target      - name of the target object\n  options.global      - target is the global object\n  options.stat        - export as static methods of target\n  options.proto       - export as prototype methods of target\n  options.real        - real prototype method for the `pure` version\n  options.forced      - export even if the native feature is available\n  options.bind        - bind methods to the target, required for the `pure` version\n  options.wrap        - wrap constructors to preventing global pollution, required for the `pure` version\n  options.unsafe      - use the simple assignment of property instead of delete + defineProperty\n  options.sham        - add a flag to not completely full polyfills\n  options.enumerable  - export as enumerable property\n  options.noTargetGet - prevent calling a getter on target\n*/\nmodule.exports = function (options, source) {\n  var TARGET = options.target;\n  var GLOBAL = options.global;\n  var STATIC = options.stat;\n  var FORCED, target, key, targetProperty, sourceProperty, descriptor;\n  if (GLOBAL) {\n    target = global;\n  } else if (STATIC) {\n    target = global[TARGET] || setGlobal(TARGET, {});\n  } else {\n    target = (global[TARGET] || {}).prototype;\n  }\n  if (target) for (key in source) {\n    sourceProperty = source[key];\n    if (options.noTargetGet) {\n      descriptor = getOwnPropertyDescriptor(target, key);\n      targetProperty = descriptor && descriptor.value;\n    } else targetProperty = target[key];\n    FORCED = isForced(GLOBAL ? key : TARGET + (STATIC ? '.' : '#') + key, options.forced);\n    // contained in target\n    if (!FORCED && targetProperty !== undefined) {\n      if (typeof sourceProperty === typeof targetProperty) continue;\n      copyConstructorProperties(sourceProperty, targetProperty);\n    }\n    // add a flag to not completely full polyfills\n    if (options.sham || (targetProperty && targetProperty.sham)) {\n      createNonEnumerableProperty(sourceProperty, 'sham', true);\n    }\n    // extend global\n    redefine(target, key, sourceProperty, options);\n  }\n};\n","var classof = require('../internals/classof-raw');\n\n// `IsArray` abstract operation\n// https://tc39.github.io/ecma262/#sec-isarray\nmodule.exports = Array.isArray || function isArray(arg) {\n  return classof(arg) == 'Array';\n};\n","var requireObjectCoercible = require('../internals/require-object-coercible');\n\n// `ToObject` abstract operation\n// https://tc39.github.io/ecma262/#sec-toobject\nmodule.exports = function (argument) {\n  return Object(requireObjectCoercible(argument));\n};\n","'use strict';\nvar toPrimitive = require('../internals/to-primitive');\nvar definePropertyModule = require('../internals/object-define-property');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\n\nmodule.exports = function (object, key, value) {\n  var propertyKey = toPrimitive(key);\n  if (propertyKey in object) definePropertyModule.f(object, propertyKey, createPropertyDescriptor(0, value));\n  else object[propertyKey] = value;\n};\n","var fails = require('../internals/fails');\n\nmodule.exports = !!Object.getOwnPropertySymbols && !fails(function () {\n  // Chrome 38 Symbol has incorrect toString conversion\n  // eslint-disable-next-line no-undef\n  return !String(Symbol());\n});\n","var NATIVE_SYMBOL = require('../internals/native-symbol');\n\nmodule.exports = NATIVE_SYMBOL\n  // eslint-disable-next-line no-undef\n  && !Symbol.sham\n  // eslint-disable-next-line no-undef\n  && typeof Symbol.iterator == 'symbol';\n","var global = require('../internals/global');\nvar shared = require('../internals/shared');\nvar has = require('../internals/has');\nvar uid = require('../internals/uid');\nvar NATIVE_SYMBOL = require('../internals/native-symbol');\nvar USE_SYMBOL_AS_UID = require('../internals/use-symbol-as-uid');\n\nvar WellKnownSymbolsStore = shared('wks');\nvar Symbol = global.Symbol;\nvar createWellKnownSymbol = USE_SYMBOL_AS_UID ? Symbol : Symbol && Symbol.withoutSetter || uid;\n\nmodule.exports = function (name) {\n  if (!has(WellKnownSymbolsStore, name)) {\n    if (NATIVE_SYMBOL && has(Symbol, name)) WellKnownSymbolsStore[name] = Symbol[name];\n    else WellKnownSymbolsStore[name] = createWellKnownSymbol('Symbol.' + name);\n  } return WellKnownSymbolsStore[name];\n};\n","var isObject = require('../internals/is-object');\nvar isArray = require('../internals/is-array');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar SPECIES = wellKnownSymbol('species');\n\n// `ArraySpeciesCreate` abstract operation\n// https://tc39.github.io/ecma262/#sec-arrayspeciescreate\nmodule.exports = function (originalArray, length) {\n  var C;\n  if (isArray(originalArray)) {\n    C = originalArray.constructor;\n    // cross-realm fallback\n    if (typeof C == 'function' && (C === Array || isArray(C.prototype))) C = undefined;\n    else if (isObject(C)) {\n      C = C[SPECIES];\n      if (C === null) C = undefined;\n    }\n  } return new (C === undefined ? Array : C)(length === 0 ? 0 : length);\n};\n","var getBuiltIn = require('../internals/get-built-in');\n\nmodule.exports = getBuiltIn('navigator', 'userAgent') || '';\n","var global = require('../internals/global');\nvar userAgent = require('../internals/engine-user-agent');\n\nvar process = global.process;\nvar versions = process && process.versions;\nvar v8 = versions && versions.v8;\nvar match, version;\n\nif (v8) {\n  match = v8.split('.');\n  version = match[0] + match[1];\n} else if (userAgent) {\n  match = userAgent.match(/Edge\\/(\\d+)/);\n  if (!match || match[1] >= 74) {\n    match = userAgent.match(/Chrome\\/(\\d+)/);\n    if (match) version = match[1];\n  }\n}\n\nmodule.exports = version && +version;\n","var fails = require('../internals/fails');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar V8_VERSION = require('../internals/engine-v8-version');\n\nvar SPECIES = wellKnownSymbol('species');\n\nmodule.exports = function (METHOD_NAME) {\n  // We can't use this feature detection in V8 since it causes\n  // deoptimization and serious performance degradation\n  // https://github.com/zloirock/core-js/issues/677\n  return V8_VERSION >= 51 || !fails(function () {\n    var array = [];\n    var constructor = array.constructor = {};\n    constructor[SPECIES] = function () {\n      return { foo: 1 };\n    };\n    return array[METHOD_NAME](Boolean).foo !== 1;\n  });\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar fails = require('../internals/fails');\nvar isArray = require('../internals/is-array');\nvar isObject = require('../internals/is-object');\nvar toObject = require('../internals/to-object');\nvar toLength = require('../internals/to-length');\nvar createProperty = require('../internals/create-property');\nvar arraySpeciesCreate = require('../internals/array-species-create');\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar V8_VERSION = require('../internals/engine-v8-version');\n\nvar IS_CONCAT_SPREADABLE = wellKnownSymbol('isConcatSpreadable');\nvar MAX_SAFE_INTEGER = 0x1FFFFFFFFFFFFF;\nvar MAXIMUM_ALLOWED_INDEX_EXCEEDED = 'Maximum allowed index exceeded';\n\n// We can't use this feature detection in V8 since it causes\n// deoptimization and serious performance degradation\n// https://github.com/zloirock/core-js/issues/679\nvar IS_CONCAT_SPREADABLE_SUPPORT = V8_VERSION >= 51 || !fails(function () {\n  var array = [];\n  array[IS_CONCAT_SPREADABLE] = false;\n  return array.concat()[0] !== array;\n});\n\nvar SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('concat');\n\nvar isConcatSpreadable = function (O) {\n  if (!isObject(O)) return false;\n  var spreadable = O[IS_CONCAT_SPREADABLE];\n  return spreadable !== undefined ? !!spreadable : isArray(O);\n};\n\nvar FORCED = !IS_CONCAT_SPREADABLE_SUPPORT || !SPECIES_SUPPORT;\n\n// `Array.prototype.concat` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.concat\n// with adding support of @@isConcatSpreadable and @@species\n$({ target: 'Array', proto: true, forced: FORCED }, {\n  concat: function concat(arg) { // eslint-disable-line no-unused-vars\n    var O = toObject(this);\n    var A = arraySpeciesCreate(O, 0);\n    var n = 0;\n    var i, k, length, len, E;\n    for (i = -1, length = arguments.length; i < length; i++) {\n      E = i === -1 ? O : arguments[i];\n      if (isConcatSpreadable(E)) {\n        len = toLength(E.length);\n        if (n + len > MAX_SAFE_INTEGER) throw TypeError(MAXIMUM_ALLOWED_INDEX_EXCEEDED);\n        for (k = 0; k < len; k++, n++) if (k in E) createProperty(A, n, E[k]);\n      } else {\n        if (n >= MAX_SAFE_INTEGER) throw TypeError(MAXIMUM_ALLOWED_INDEX_EXCEEDED);\n        createProperty(A, n++, E);\n      }\n    }\n    A.length = n;\n    return A;\n  }\n});\n","module.exports = function (it) {\n  if (typeof it != 'function') {\n    throw TypeError(String(it) + ' is not a function');\n  } return it;\n};\n","var aFunction = require('../internals/a-function');\n\n// optional / simple context binding\nmodule.exports = function (fn, that, length) {\n  aFunction(fn);\n  if (that === undefined) return fn;\n  switch (length) {\n    case 0: return function () {\n      return fn.call(that);\n    };\n    case 1: return function (a) {\n      return fn.call(that, a);\n    };\n    case 2: return function (a, b) {\n      return fn.call(that, a, b);\n    };\n    case 3: return function (a, b, c) {\n      return fn.call(that, a, b, c);\n    };\n  }\n  return function (/* ...args */) {\n    return fn.apply(that, arguments);\n  };\n};\n","var bind = require('../internals/function-bind-context');\nvar IndexedObject = require('../internals/indexed-object');\nvar toObject = require('../internals/to-object');\nvar toLength = require('../internals/to-length');\nvar arraySpeciesCreate = require('../internals/array-species-create');\n\nvar push = [].push;\n\n// `Array.prototype.{ forEach, map, filter, some, every, find, findIndex }` methods implementation\nvar createMethod = function (TYPE) {\n  var IS_MAP = TYPE == 1;\n  var IS_FILTER = TYPE == 2;\n  var IS_SOME = TYPE == 3;\n  var IS_EVERY = TYPE == 4;\n  var IS_FIND_INDEX = TYPE == 6;\n  var NO_HOLES = TYPE == 5 || IS_FIND_INDEX;\n  return function ($this, callbackfn, that, specificCreate) {\n    var O = toObject($this);\n    var self = IndexedObject(O);\n    var boundFunction = bind(callbackfn, that, 3);\n    var length = toLength(self.length);\n    var index = 0;\n    var create = specificCreate || arraySpeciesCreate;\n    var target = IS_MAP ? create($this, length) : IS_FILTER ? create($this, 0) : undefined;\n    var value, result;\n    for (;length > index; index++) if (NO_HOLES || index in self) {\n      value = self[index];\n      result = boundFunction(value, index, O);\n      if (TYPE) {\n        if (IS_MAP) target[index] = result; // map\n        else if (result) switch (TYPE) {\n          case 3: return true;              // some\n          case 5: return value;             // find\n          case 6: return index;             // findIndex\n          case 2: push.call(target, value); // filter\n        } else if (IS_EVERY) return false;  // every\n      }\n    }\n    return IS_FIND_INDEX ? -1 : IS_SOME || IS_EVERY ? IS_EVERY : target;\n  };\n};\n\nmodule.exports = {\n  // `Array.prototype.forEach` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.foreach\n  forEach: createMethod(0),\n  // `Array.prototype.map` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.map\n  map: createMethod(1),\n  // `Array.prototype.filter` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.filter\n  filter: createMethod(2),\n  // `Array.prototype.some` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.some\n  some: createMethod(3),\n  // `Array.prototype.every` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.every\n  every: createMethod(4),\n  // `Array.prototype.find` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.find\n  find: createMethod(5),\n  // `Array.prototype.findIndex` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.findIndex\n  findIndex: createMethod(6)\n};\n","var internalObjectKeys = require('../internals/object-keys-internal');\nvar enumBugKeys = require('../internals/enum-bug-keys');\n\n// `Object.keys` method\n// https://tc39.github.io/ecma262/#sec-object.keys\nmodule.exports = Object.keys || function keys(O) {\n  return internalObjectKeys(O, enumBugKeys);\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar definePropertyModule = require('../internals/object-define-property');\nvar anObject = require('../internals/an-object');\nvar objectKeys = require('../internals/object-keys');\n\n// `Object.defineProperties` method\n// https://tc39.github.io/ecma262/#sec-object.defineproperties\nmodule.exports = DESCRIPTORS ? Object.defineProperties : function defineProperties(O, Properties) {\n  anObject(O);\n  var keys = objectKeys(Properties);\n  var length = keys.length;\n  var index = 0;\n  var key;\n  while (length > index) definePropertyModule.f(O, key = keys[index++], Properties[key]);\n  return O;\n};\n","var getBuiltIn = require('../internals/get-built-in');\n\nmodule.exports = getBuiltIn('document', 'documentElement');\n","var anObject = require('../internals/an-object');\nvar defineProperties = require('../internals/object-define-properties');\nvar enumBugKeys = require('../internals/enum-bug-keys');\nvar hiddenKeys = require('../internals/hidden-keys');\nvar html = require('../internals/html');\nvar documentCreateElement = require('../internals/document-create-element');\nvar sharedKey = require('../internals/shared-key');\n\nvar GT = '>';\nvar LT = '<';\nvar PROTOTYPE = 'prototype';\nvar SCRIPT = 'script';\nvar IE_PROTO = sharedKey('IE_PROTO');\n\nvar EmptyConstructor = function () { /* empty */ };\n\nvar scriptTag = function (content) {\n  return LT + SCRIPT + GT + content + LT + '/' + SCRIPT + GT;\n};\n\n// Create object with fake `null` prototype: use ActiveX Object with cleared prototype\nvar NullProtoObjectViaActiveX = function (activeXDocument) {\n  activeXDocument.write(scriptTag(''));\n  activeXDocument.close();\n  var temp = activeXDocument.parentWindow.Object;\n  activeXDocument = null; // avoid memory leak\n  return temp;\n};\n\n// Create object with fake `null` prototype: use iframe Object with cleared prototype\nvar NullProtoObjectViaIFrame = function () {\n  // Thrash, waste and sodomy: IE GC bug\n  var iframe = documentCreateElement('iframe');\n  var JS = 'java' + SCRIPT + ':';\n  var iframeDocument;\n  iframe.style.display = 'none';\n  html.appendChild(iframe);\n  // https://github.com/zloirock/core-js/issues/475\n  iframe.src = String(JS);\n  iframeDocument = iframe.contentWindow.document;\n  iframeDocument.open();\n  iframeDocument.write(scriptTag('document.F=Object'));\n  iframeDocument.close();\n  return iframeDocument.F;\n};\n\n// Check for document.domain and active x support\n// No need to use active x approach when document.domain is not set\n// see https://github.com/es-shims/es5-shim/issues/150\n// variation of https://github.com/kitcambridge/es5-shim/commit/4f738ac066346\n// avoid IE GC bug\nvar activeXDocument;\nvar NullProtoObject = function () {\n  try {\n    /* global ActiveXObject */\n    activeXDocument = document.domain && new ActiveXObject('htmlfile');\n  } catch (error) { /* ignore */ }\n  NullProtoObject = activeXDocument ? NullProtoObjectViaActiveX(activeXDocument) : NullProtoObjectViaIFrame();\n  var length = enumBugKeys.length;\n  while (length--) delete NullProtoObject[PROTOTYPE][enumBugKeys[length]];\n  return NullProtoObject();\n};\n\nhiddenKeys[IE_PROTO] = true;\n\n// `Object.create` method\n// https://tc39.github.io/ecma262/#sec-object.create\nmodule.exports = Object.create || function create(O, Properties) {\n  var result;\n  if (O !== null) {\n    EmptyConstructor[PROTOTYPE] = anObject(O);\n    result = new EmptyConstructor();\n    EmptyConstructor[PROTOTYPE] = null;\n    // add \"__proto__\" for Object.getPrototypeOf polyfill\n    result[IE_PROTO] = O;\n  } else result = NullProtoObject();\n  return Properties === undefined ? result : defineProperties(result, Properties);\n};\n","var wellKnownSymbol = require('../internals/well-known-symbol');\nvar create = require('../internals/object-create');\nvar definePropertyModule = require('../internals/object-define-property');\n\nvar UNSCOPABLES = wellKnownSymbol('unscopables');\nvar ArrayPrototype = Array.prototype;\n\n// Array.prototype[@@unscopables]\n// https://tc39.github.io/ecma262/#sec-array.prototype-@@unscopables\nif (ArrayPrototype[UNSCOPABLES] == undefined) {\n  definePropertyModule.f(ArrayPrototype, UNSCOPABLES, {\n    configurable: true,\n    value: create(null)\n  });\n}\n\n// add a key to Array.prototype[@@unscopables]\nmodule.exports = function (key) {\n  ArrayPrototype[UNSCOPABLES][key] = true;\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar fails = require('../internals/fails');\nvar has = require('../internals/has');\n\nvar defineProperty = Object.defineProperty;\nvar cache = {};\n\nvar thrower = function (it) { throw it; };\n\nmodule.exports = function (METHOD_NAME, options) {\n  if (has(cache, METHOD_NAME)) return cache[METHOD_NAME];\n  if (!options) options = {};\n  var method = [][METHOD_NAME];\n  var ACCESSORS = has(options, 'ACCESSORS') ? options.ACCESSORS : false;\n  var argument0 = has(options, 0) ? options[0] : thrower;\n  var argument1 = has(options, 1) ? options[1] : undefined;\n\n  return cache[METHOD_NAME] = !!method && !fails(function () {\n    if (ACCESSORS && !DESCRIPTORS) return true;\n    var O = { length: -1 };\n\n    if (ACCESSORS) defineProperty(O, 1, { enumerable: true, get: thrower });\n    else O[1] = 1;\n\n    method.call(O, argument0, argument1);\n  });\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar $find = require('../internals/array-iteration').find;\nvar addToUnscopables = require('../internals/add-to-unscopables');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar FIND = 'find';\nvar SKIPS_HOLES = true;\n\nvar USES_TO_LENGTH = arrayMethodUsesToLength(FIND);\n\n// Shouldn't skip holes\nif (FIND in []) Array(1)[FIND](function () { SKIPS_HOLES = false; });\n\n// `Array.prototype.find` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.find\n$({ target: 'Array', proto: true, forced: SKIPS_HOLES || !USES_TO_LENGTH }, {\n  find: function find(callbackfn /* , that = undefined */) {\n    return $find(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\n// https://tc39.github.io/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables(FIND);\n","'use strict';\nvar $ = require('../internals/export');\nvar isObject = require('../internals/is-object');\nvar isArray = require('../internals/is-array');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\nvar toLength = require('../internals/to-length');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar createProperty = require('../internals/create-property');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('slice');\nvar USES_TO_LENGTH = arrayMethodUsesToLength('slice', { ACCESSORS: true, 0: 0, 1: 2 });\n\nvar SPECIES = wellKnownSymbol('species');\nvar nativeSlice = [].slice;\nvar max = Math.max;\n\n// `Array.prototype.slice` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.slice\n// fallback for not array-like ES3 strings and DOM objects\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT || !USES_TO_LENGTH }, {\n  slice: function slice(start, end) {\n    var O = toIndexedObject(this);\n    var length = toLength(O.length);\n    var k = toAbsoluteIndex(start, length);\n    var fin = toAbsoluteIndex(end === undefined ? length : end, length);\n    // inline `ArraySpeciesCreate` for usage native `Array#slice` where it's possible\n    var Constructor, result, n;\n    if (isArray(O)) {\n      Constructor = O.constructor;\n      // cross-realm fallback\n      if (typeof Constructor == 'function' && (Constructor === Array || isArray(Constructor.prototype))) {\n        Constructor = undefined;\n      } else if (isObject(Constructor)) {\n        Constructor = Constructor[SPECIES];\n        if (Constructor === null) Constructor = undefined;\n      }\n      if (Constructor === Array || Constructor === undefined) {\n        return nativeSlice.call(O, k, fin);\n      }\n    }\n    result = new (Constructor === undefined ? Array : Constructor)(max(fin - k, 0));\n    for (n = 0; k < fin; k++, n++) if (k in O) createProperty(result, n, O[k]);\n    result.length = n;\n    return result;\n  }\n});\n","'use strict';\nvar aFunction = require('../internals/a-function');\nvar isObject = require('../internals/is-object');\n\nvar slice = [].slice;\nvar factories = {};\n\nvar construct = function (C, argsLength, args) {\n  if (!(argsLength in factories)) {\n    for (var list = [], i = 0; i < argsLength; i++) list[i] = 'a[' + i + ']';\n    // eslint-disable-next-line no-new-func\n    factories[argsLength] = Function('C,a', 'return new C(' + list.join(',') + ')');\n  } return factories[argsLength](C, args);\n};\n\n// `Function.prototype.bind` method implementation\n// https://tc39.github.io/ecma262/#sec-function.prototype.bind\nmodule.exports = Function.bind || function bind(that /* , ...args */) {\n  var fn = aFunction(this);\n  var partArgs = slice.call(arguments, 1);\n  var boundFunction = function bound(/* args... */) {\n    var args = partArgs.concat(slice.call(arguments));\n    return this instanceof boundFunction ? construct(fn, args.length, args) : fn.apply(that, args);\n  };\n  if (isObject(fn.prototype)) boundFunction.prototype = fn.prototype;\n  return boundFunction;\n};\n","var $ = require('../internals/export');\nvar bind = require('../internals/function-bind');\n\n// `Function.prototype.bind` method\n// https://tc39.github.io/ecma262/#sec-function.prototype.bind\n$({ target: 'Function', proto: true }, {\n  bind: bind\n});\n","// `Math.sign` method implementation\n// https://tc39.github.io/ecma262/#sec-math.sign\nmodule.exports = Math.sign || function sign(x) {\n  // eslint-disable-next-line no-self-compare\n  return (x = +x) == 0 || x != x ? x : x < 0 ? -1 : 1;\n};\n","var $ = require('../internals/export');\nvar sign = require('../internals/math-sign');\n\n// `Math.sign` method\n// https://tc39.github.io/ecma262/#sec-math.sign\n$({ target: 'Math', stat: true }, {\n  sign: sign\n});\n","var classof = require('../internals/classof-raw');\n\n// `thisNumberValue` abstract operation\n// https://tc39.github.io/ecma262/#sec-thisnumbervalue\nmodule.exports = function (value) {\n  if (typeof value != 'number' && classof(value) != 'Number') {\n    throw TypeError('Incorrect invocation');\n  }\n  return +value;\n};\n","'use strict';\nvar toInteger = require('../internals/to-integer');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\n\n// `String.prototype.repeat` method implementation\n// https://tc39.github.io/ecma262/#sec-string.prototype.repeat\nmodule.exports = ''.repeat || function repeat(count) {\n  var str = String(requireObjectCoercible(this));\n  var result = '';\n  var n = toInteger(count);\n  if (n < 0 || n == Infinity) throw RangeError('Wrong number of repetitions');\n  for (;n > 0; (n >>>= 1) && (str += str)) if (n & 1) result += str;\n  return result;\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar toInteger = require('../internals/to-integer');\nvar thisNumberValue = require('../internals/this-number-value');\nvar repeat = require('../internals/string-repeat');\nvar fails = require('../internals/fails');\n\nvar nativeToFixed = 1.0.toFixed;\nvar floor = Math.floor;\n\nvar pow = function (x, n, acc) {\n  return n === 0 ? acc : n % 2 === 1 ? pow(x, n - 1, acc * x) : pow(x * x, n / 2, acc);\n};\n\nvar log = function (x) {\n  var n = 0;\n  var x2 = x;\n  while (x2 >= 4096) {\n    n += 12;\n    x2 /= 4096;\n  }\n  while (x2 >= 2) {\n    n += 1;\n    x2 /= 2;\n  } return n;\n};\n\nvar FORCED = nativeToFixed && (\n  0.00008.toFixed(3) !== '0.000' ||\n  0.9.toFixed(0) !== '1' ||\n  1.255.toFixed(2) !== '1.25' ||\n  1000000000000000128.0.toFixed(0) !== '1000000000000000128'\n) || !fails(function () {\n  // V8 ~ Android 4.3-\n  nativeToFixed.call({});\n});\n\n// `Number.prototype.toFixed` method\n// https://tc39.github.io/ecma262/#sec-number.prototype.tofixed\n$({ target: 'Number', proto: true, forced: FORCED }, {\n  // eslint-disable-next-line max-statements\n  toFixed: function toFixed(fractionDigits) {\n    var number = thisNumberValue(this);\n    var fractDigits = toInteger(fractionDigits);\n    var data = [0, 0, 0, 0, 0, 0];\n    var sign = '';\n    var result = '0';\n    var e, z, j, k;\n\n    var multiply = function (n, c) {\n      var index = -1;\n      var c2 = c;\n      while (++index < 6) {\n        c2 += n * data[index];\n        data[index] = c2 % 1e7;\n        c2 = floor(c2 / 1e7);\n      }\n    };\n\n    var divide = function (n) {\n      var index = 6;\n      var c = 0;\n      while (--index >= 0) {\n        c += data[index];\n        data[index] = floor(c / n);\n        c = (c % n) * 1e7;\n      }\n    };\n\n    var dataToString = function () {\n      var index = 6;\n      var s = '';\n      while (--index >= 0) {\n        if (s !== '' || index === 0 || data[index] !== 0) {\n          var t = String(data[index]);\n          s = s === '' ? t : s + repeat.call('0', 7 - t.length) + t;\n        }\n      } return s;\n    };\n\n    if (fractDigits < 0 || fractDigits > 20) throw RangeError('Incorrect fraction digits');\n    // eslint-disable-next-line no-self-compare\n    if (number != number) return 'NaN';\n    if (number <= -1e21 || number >= 1e21) return String(number);\n    if (number < 0) {\n      sign = '-';\n      number = -number;\n    }\n    if (number > 1e-21) {\n      e = log(number * pow(2, 69, 1)) - 69;\n      z = e < 0 ? number * pow(2, -e, 1) : number / pow(2, e, 1);\n      z *= 0x10000000000000;\n      e = 52 - e;\n      if (e > 0) {\n        multiply(0, z);\n        j = fractDigits;\n        while (j >= 7) {\n          multiply(1e7, 0);\n          j -= 7;\n        }\n        multiply(pow(10, j, 1), 0);\n        j = e - 1;\n        while (j >= 23) {\n          divide(1 << 23);\n          j -= 23;\n        }\n        divide(1 << j);\n        multiply(1, 1);\n        divide(2);\n        result = dataToString();\n      } else {\n        multiply(0, z);\n        multiply(1 << -e, 0);\n        result = dataToString() + repeat.call('0', fractDigits);\n      }\n    }\n    if (fractDigits > 0) {\n      k = result.length;\n      result = sign + (k <= fractDigits\n        ? '0.' + repeat.call('0', fractDigits - k) + result\n        : result.slice(0, k - fractDigits) + '.' + result.slice(k - fractDigits));\n    } else {\n      result = sign + result;\n    } return result;\n  }\n});\n","var wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\nvar test = {};\n\ntest[TO_STRING_TAG] = 'z';\n\nmodule.exports = String(test) === '[object z]';\n","var TO_STRING_TAG_SUPPORT = require('../internals/to-string-tag-support');\nvar classofRaw = require('../internals/classof-raw');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\n// ES3 wrong here\nvar CORRECT_ARGUMENTS = classofRaw(function () { return arguments; }()) == 'Arguments';\n\n// fallback for IE11 Script Access Denied error\nvar tryGet = function (it, key) {\n  try {\n    return it[key];\n  } catch (error) { /* empty */ }\n};\n\n// getting tag from ES6+ `Object.prototype.toString`\nmodule.exports = TO_STRING_TAG_SUPPORT ? classofRaw : function (it) {\n  var O, tag, result;\n  return it === undefined ? 'Undefined' : it === null ? 'Null'\n    // @@toStringTag case\n    : typeof (tag = tryGet(O = Object(it), TO_STRING_TAG)) == 'string' ? tag\n    // builtinTag case\n    : CORRECT_ARGUMENTS ? classofRaw(O)\n    // ES3 arguments fallback\n    : (result = classofRaw(O)) == 'Object' && typeof O.callee == 'function' ? 'Arguments' : result;\n};\n","'use strict';\nvar TO_STRING_TAG_SUPPORT = require('../internals/to-string-tag-support');\nvar classof = require('../internals/classof');\n\n// `Object.prototype.toString` method implementation\n// https://tc39.github.io/ecma262/#sec-object.prototype.tostring\nmodule.exports = TO_STRING_TAG_SUPPORT ? {}.toString : function toString() {\n  return '[object ' + classof(this) + ']';\n};\n","var TO_STRING_TAG_SUPPORT = require('../internals/to-string-tag-support');\nvar redefine = require('../internals/redefine');\nvar toString = require('../internals/object-to-string');\n\n// `Object.prototype.toString` method\n// https://tc39.github.io/ecma262/#sec-object.prototype.tostring\nif (!TO_STRING_TAG_SUPPORT) {\n  redefine(Object.prototype, 'toString', toString, { unsafe: true });\n}\n","// a string of all valid unicode whitespaces\n// eslint-disable-next-line max-len\nmodule.exports = '\\u0009\\u000A\\u000B\\u000C\\u000D\\u0020\\u00A0\\u1680\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF';\n","var requireObjectCoercible = require('../internals/require-object-coercible');\nvar whitespaces = require('../internals/whitespaces');\n\nvar whitespace = '[' + whitespaces + ']';\nvar ltrim = RegExp('^' + whitespace + whitespace + '*');\nvar rtrim = RegExp(whitespace + whitespace + '*$');\n\n// `String.prototype.{ trim, trimStart, trimEnd, trimLeft, trimRight }` methods implementation\nvar createMethod = function (TYPE) {\n  return function ($this) {\n    var string = String(requireObjectCoercible($this));\n    if (TYPE & 1) string = string.replace(ltrim, '');\n    if (TYPE & 2) string = string.replace(rtrim, '');\n    return string;\n  };\n};\n\nmodule.exports = {\n  // `String.prototype.{ trimLeft, trimStart }` methods\n  // https://tc39.github.io/ecma262/#sec-string.prototype.trimstart\n  start: createMethod(1),\n  // `String.prototype.{ trimRight, trimEnd }` methods\n  // https://tc39.github.io/ecma262/#sec-string.prototype.trimend\n  end: createMethod(2),\n  // `String.prototype.trim` method\n  // https://tc39.github.io/ecma262/#sec-string.prototype.trim\n  trim: createMethod(3)\n};\n","var global = require('../internals/global');\nvar trim = require('../internals/string-trim').trim;\nvar whitespaces = require('../internals/whitespaces');\n\nvar $parseFloat = global.parseFloat;\nvar FORCED = 1 / $parseFloat(whitespaces + '-0') !== -Infinity;\n\n// `parseFloat` method\n// https://tc39.github.io/ecma262/#sec-parsefloat-string\nmodule.exports = FORCED ? function parseFloat(string) {\n  var trimmedString = trim(String(string));\n  var result = $parseFloat(trimmedString);\n  return result === 0 && trimmedString.charAt(0) == '-' ? -0 : result;\n} : $parseFloat;\n","var $ = require('../internals/export');\nvar parseFloatImplementation = require('../internals/number-parse-float');\n\n// `parseFloat` method\n// https://tc39.github.io/ecma262/#sec-parsefloat-string\n$({ global: true, forced: parseFloat != parseFloatImplementation }, {\n  parseFloat: parseFloatImplementation\n});\n","var global = require('../internals/global');\n\nmodule.exports = global.Promise;\n","var redefine = require('../internals/redefine');\n\nmodule.exports = function (target, src, options) {\n  for (var key in src) redefine(target, key, src[key], options);\n  return target;\n};\n","var defineProperty = require('../internals/object-define-property').f;\nvar has = require('../internals/has');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\n\nmodule.exports = function (it, TAG, STATIC) {\n  if (it && !has(it = STATIC ? it : it.prototype, TO_STRING_TAG)) {\n    defineProperty(it, TO_STRING_TAG, { configurable: true, value: TAG });\n  }\n};\n","'use strict';\nvar getBuiltIn = require('../internals/get-built-in');\nvar definePropertyModule = require('../internals/object-define-property');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar DESCRIPTORS = require('../internals/descriptors');\n\nvar SPECIES = wellKnownSymbol('species');\n\nmodule.exports = function (CONSTRUCTOR_NAME) {\n  var Constructor = getBuiltIn(CONSTRUCTOR_NAME);\n  var defineProperty = definePropertyModule.f;\n\n  if (DESCRIPTORS && Constructor && !Constructor[SPECIES]) {\n    defineProperty(Constructor, SPECIES, {\n      configurable: true,\n      get: function () { return this; }\n    });\n  }\n};\n","module.exports = function (it, Constructor, name) {\n  if (!(it instanceof Constructor)) {\n    throw TypeError('Incorrect ' + (name ? name + ' ' : '') + 'invocation');\n  } return it;\n};\n","module.exports = {};\n","var wellKnownSymbol = require('../internals/well-known-symbol');\nvar Iterators = require('../internals/iterators');\n\nvar ITERATOR = wellKnownSymbol('iterator');\nvar ArrayPrototype = Array.prototype;\n\n// check on default Array iterator\nmodule.exports = function (it) {\n  return it !== undefined && (Iterators.Array === it || ArrayPrototype[ITERATOR] === it);\n};\n","var classof = require('../internals/classof');\nvar Iterators = require('../internals/iterators');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar ITERATOR = wellKnownSymbol('iterator');\n\nmodule.exports = function (it) {\n  if (it != undefined) return it[ITERATOR]\n    || it['@@iterator']\n    || Iterators[classof(it)];\n};\n","var anObject = require('../internals/an-object');\n\n// call something on iterator step with safe closing on error\nmodule.exports = function (iterator, fn, value, ENTRIES) {\n  try {\n    return ENTRIES ? fn(anObject(value)[0], value[1]) : fn(value);\n  // 7.4.6 IteratorClose(iterator, completion)\n  } catch (error) {\n    var returnMethod = iterator['return'];\n    if (returnMethod !== undefined) anObject(returnMethod.call(iterator));\n    throw error;\n  }\n};\n","var anObject = require('../internals/an-object');\nvar isArrayIteratorMethod = require('../internals/is-array-iterator-method');\nvar toLength = require('../internals/to-length');\nvar bind = require('../internals/function-bind-context');\nvar getIteratorMethod = require('../internals/get-iterator-method');\nvar callWithSafeIterationClosing = require('../internals/call-with-safe-iteration-closing');\n\nvar Result = function (stopped, result) {\n  this.stopped = stopped;\n  this.result = result;\n};\n\nvar iterate = module.exports = function (iterable, fn, that, AS_ENTRIES, IS_ITERATOR) {\n  var boundFunction = bind(fn, that, AS_ENTRIES ? 2 : 1);\n  var iterator, iterFn, index, length, result, next, step;\n\n  if (IS_ITERATOR) {\n    iterator = iterable;\n  } else {\n    iterFn = getIteratorMethod(iterable);\n    if (typeof iterFn != 'function') throw TypeError('Target is not iterable');\n    // optimisation for array iterators\n    if (isArrayIteratorMethod(iterFn)) {\n      for (index = 0, length = toLength(iterable.length); length > index; index++) {\n        result = AS_ENTRIES\n          ? boundFunction(anObject(step = iterable[index])[0], step[1])\n          : boundFunction(iterable[index]);\n        if (result && result instanceof Result) return result;\n      } return new Result(false);\n    }\n    iterator = iterFn.call(iterable);\n  }\n\n  next = iterator.next;\n  while (!(step = next.call(iterator)).done) {\n    result = callWithSafeIterationClosing(iterator, boundFunction, step.value, AS_ENTRIES);\n    if (typeof result == 'object' && result && result instanceof Result) return result;\n  } return new Result(false);\n};\n\niterate.stop = function (result) {\n  return new Result(true, result);\n};\n","var wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar ITERATOR = wellKnownSymbol('iterator');\nvar SAFE_CLOSING = false;\n\ntry {\n  var called = 0;\n  var iteratorWithReturn = {\n    next: function () {\n      return { done: !!called++ };\n    },\n    'return': function () {\n      SAFE_CLOSING = true;\n    }\n  };\n  iteratorWithReturn[ITERATOR] = function () {\n    return this;\n  };\n  // eslint-disable-next-line no-throw-literal\n  Array.from(iteratorWithReturn, function () { throw 2; });\n} catch (error) { /* empty */ }\n\nmodule.exports = function (exec, SKIP_CLOSING) {\n  if (!SKIP_CLOSING && !SAFE_CLOSING) return false;\n  var ITERATION_SUPPORT = false;\n  try {\n    var object = {};\n    object[ITERATOR] = function () {\n      return {\n        next: function () {\n          return { done: ITERATION_SUPPORT = true };\n        }\n      };\n    };\n    exec(object);\n  } catch (error) { /* empty */ }\n  return ITERATION_SUPPORT;\n};\n","var anObject = require('../internals/an-object');\nvar aFunction = require('../internals/a-function');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar SPECIES = wellKnownSymbol('species');\n\n// `SpeciesConstructor` abstract operation\n// https://tc39.github.io/ecma262/#sec-speciesconstructor\nmodule.exports = function (O, defaultConstructor) {\n  var C = anObject(O).constructor;\n  var S;\n  return C === undefined || (S = anObject(C)[SPECIES]) == undefined ? defaultConstructor : aFunction(S);\n};\n","var userAgent = require('../internals/engine-user-agent');\n\nmodule.exports = /(iphone|ipod|ipad).*applewebkit/i.test(userAgent);\n","var global = require('../internals/global');\nvar fails = require('../internals/fails');\nvar classof = require('../internals/classof-raw');\nvar bind = require('../internals/function-bind-context');\nvar html = require('../internals/html');\nvar createElement = require('../internals/document-create-element');\nvar IS_IOS = require('../internals/engine-is-ios');\n\nvar location = global.location;\nvar set = global.setImmediate;\nvar clear = global.clearImmediate;\nvar process = global.process;\nvar MessageChannel = global.MessageChannel;\nvar Dispatch = global.Dispatch;\nvar counter = 0;\nvar queue = {};\nvar ONREADYSTATECHANGE = 'onreadystatechange';\nvar defer, channel, port;\n\nvar run = function (id) {\n  // eslint-disable-next-line no-prototype-builtins\n  if (queue.hasOwnProperty(id)) {\n    var fn = queue[id];\n    delete queue[id];\n    fn();\n  }\n};\n\nvar runner = function (id) {\n  return function () {\n    run(id);\n  };\n};\n\nvar listener = function (event) {\n  run(event.data);\n};\n\nvar post = function (id) {\n  // old engines have not location.origin\n  global.postMessage(id + '', location.protocol + '//' + location.host);\n};\n\n// Node.js 0.9+ & IE10+ has setImmediate, otherwise:\nif (!set || !clear) {\n  set = function setImmediate(fn) {\n    var args = [];\n    var i = 1;\n    while (arguments.length > i) args.push(arguments[i++]);\n    queue[++counter] = function () {\n      // eslint-disable-next-line no-new-func\n      (typeof fn == 'function' ? fn : Function(fn)).apply(undefined, args);\n    };\n    defer(counter);\n    return counter;\n  };\n  clear = function clearImmediate(id) {\n    delete queue[id];\n  };\n  // Node.js 0.8-\n  if (classof(process) == 'process') {\n    defer = function (id) {\n      process.nextTick(runner(id));\n    };\n  // Sphere (JS game engine) Dispatch API\n  } else if (Dispatch && Dispatch.now) {\n    defer = function (id) {\n      Dispatch.now(runner(id));\n    };\n  // Browsers with MessageChannel, includes WebWorkers\n  // except iOS - https://github.com/zloirock/core-js/issues/624\n  } else if (MessageChannel && !IS_IOS) {\n    channel = new MessageChannel();\n    port = channel.port2;\n    channel.port1.onmessage = listener;\n    defer = bind(port.postMessage, port, 1);\n  // Browsers with postMessage, skip WebWorkers\n  // IE8 has postMessage, but it's sync & typeof its postMessage is 'object'\n  } else if (global.addEventListener && typeof postMessage == 'function' && !global.importScripts && !fails(post)) {\n    defer = post;\n    global.addEventListener('message', listener, false);\n  // IE8-\n  } else if (ONREADYSTATECHANGE in createElement('script')) {\n    defer = function (id) {\n      html.appendChild(createElement('script'))[ONREADYSTATECHANGE] = function () {\n        html.removeChild(this);\n        run(id);\n      };\n    };\n  // Rest old browsers\n  } else {\n    defer = function (id) {\n      setTimeout(runner(id), 0);\n    };\n  }\n}\n\nmodule.exports = {\n  set: set,\n  clear: clear\n};\n","var global = require('../internals/global');\nvar getOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\nvar classof = require('../internals/classof-raw');\nvar macrotask = require('../internals/task').set;\nvar IS_IOS = require('../internals/engine-is-ios');\n\nvar MutationObserver = global.MutationObserver || global.WebKitMutationObserver;\nvar process = global.process;\nvar Promise = global.Promise;\nvar IS_NODE = classof(process) == 'process';\n// Node.js 11 shows ExperimentalWarning on getting `queueMicrotask`\nvar queueMicrotaskDescriptor = getOwnPropertyDescriptor(global, 'queueMicrotask');\nvar queueMicrotask = queueMicrotaskDescriptor && queueMicrotaskDescriptor.value;\n\nvar flush, head, last, notify, toggle, node, promise, then;\n\n// modern engines have queueMicrotask method\nif (!queueMicrotask) {\n  flush = function () {\n    var parent, fn;\n    if (IS_NODE && (parent = process.domain)) parent.exit();\n    while (head) {\n      fn = head.fn;\n      head = head.next;\n      try {\n        fn();\n      } catch (error) {\n        if (head) notify();\n        else last = undefined;\n        throw error;\n      }\n    } last = undefined;\n    if (parent) parent.enter();\n  };\n\n  // Node.js\n  if (IS_NODE) {\n    notify = function () {\n      process.nextTick(flush);\n    };\n  // browsers with MutationObserver, except iOS - https://github.com/zloirock/core-js/issues/339\n  } else if (MutationObserver && !IS_IOS) {\n    toggle = true;\n    node = document.createTextNode('');\n    new MutationObserver(flush).observe(node, { characterData: true });\n    notify = function () {\n      node.data = toggle = !toggle;\n    };\n  // environments with maybe non-completely correct, but existent Promise\n  } else if (Promise && Promise.resolve) {\n    // Promise.resolve without an argument throws an error in LG WebOS 2\n    promise = Promise.resolve(undefined);\n    then = promise.then;\n    notify = function () {\n      then.call(promise, flush);\n    };\n  // for other environments - macrotask based on:\n  // - setImmediate\n  // - MessageChannel\n  // - window.postMessag\n  // - onreadystatechange\n  // - setTimeout\n  } else {\n    notify = function () {\n      // strange IE + webpack dev server bug - use .call(global)\n      macrotask.call(global, flush);\n    };\n  }\n}\n\nmodule.exports = queueMicrotask || function (fn) {\n  var task = { fn: fn, next: undefined };\n  if (last) last.next = task;\n  if (!head) {\n    head = task;\n    notify();\n  } last = task;\n};\n","'use strict';\nvar aFunction = require('../internals/a-function');\n\nvar PromiseCapability = function (C) {\n  var resolve, reject;\n  this.promise = new C(function ($$resolve, $$reject) {\n    if (resolve !== undefined || reject !== undefined) throw TypeError('Bad Promise constructor');\n    resolve = $$resolve;\n    reject = $$reject;\n  });\n  this.resolve = aFunction(resolve);\n  this.reject = aFunction(reject);\n};\n\n// 25.4.1.5 NewPromiseCapability(C)\nmodule.exports.f = function (C) {\n  return new PromiseCapability(C);\n};\n","var anObject = require('../internals/an-object');\nvar isObject = require('../internals/is-object');\nvar newPromiseCapability = require('../internals/new-promise-capability');\n\nmodule.exports = function (C, x) {\n  anObject(C);\n  if (isObject(x) && x.constructor === C) return x;\n  var promiseCapability = newPromiseCapability.f(C);\n  var resolve = promiseCapability.resolve;\n  resolve(x);\n  return promiseCapability.promise;\n};\n","var global = require('../internals/global');\n\nmodule.exports = function (a, b) {\n  var console = global.console;\n  if (console && console.error) {\n    arguments.length === 1 ? console.error(a) : console.error(a, b);\n  }\n};\n","module.exports = function (exec) {\n  try {\n    return { error: false, value: exec() };\n  } catch (error) {\n    return { error: true, value: error };\n  }\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar IS_PURE = require('../internals/is-pure');\nvar global = require('../internals/global');\nvar getBuiltIn = require('../internals/get-built-in');\nvar NativePromise = require('../internals/native-promise-constructor');\nvar redefine = require('../internals/redefine');\nvar redefineAll = require('../internals/redefine-all');\nvar setToStringTag = require('../internals/set-to-string-tag');\nvar setSpecies = require('../internals/set-species');\nvar isObject = require('../internals/is-object');\nvar aFunction = require('../internals/a-function');\nvar anInstance = require('../internals/an-instance');\nvar classof = require('../internals/classof-raw');\nvar inspectSource = require('../internals/inspect-source');\nvar iterate = require('../internals/iterate');\nvar checkCorrectnessOfIteration = require('../internals/check-correctness-of-iteration');\nvar speciesConstructor = require('../internals/species-constructor');\nvar task = require('../internals/task').set;\nvar microtask = require('../internals/microtask');\nvar promiseResolve = require('../internals/promise-resolve');\nvar hostReportErrors = require('../internals/host-report-errors');\nvar newPromiseCapabilityModule = require('../internals/new-promise-capability');\nvar perform = require('../internals/perform');\nvar InternalStateModule = require('../internals/internal-state');\nvar isForced = require('../internals/is-forced');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar V8_VERSION = require('../internals/engine-v8-version');\n\nvar SPECIES = wellKnownSymbol('species');\nvar PROMISE = 'Promise';\nvar getInternalState = InternalStateModule.get;\nvar setInternalState = InternalStateModule.set;\nvar getInternalPromiseState = InternalStateModule.getterFor(PROMISE);\nvar PromiseConstructor = NativePromise;\nvar TypeError = global.TypeError;\nvar document = global.document;\nvar process = global.process;\nvar $fetch = getBuiltIn('fetch');\nvar newPromiseCapability = newPromiseCapabilityModule.f;\nvar newGenericPromiseCapability = newPromiseCapability;\nvar IS_NODE = classof(process) == 'process';\nvar DISPATCH_EVENT = !!(document && document.createEvent && global.dispatchEvent);\nvar UNHANDLED_REJECTION = 'unhandledrejection';\nvar REJECTION_HANDLED = 'rejectionhandled';\nvar PENDING = 0;\nvar FULFILLED = 1;\nvar REJECTED = 2;\nvar HANDLED = 1;\nvar UNHANDLED = 2;\nvar Internal, OwnPromiseCapability, PromiseWrapper, nativeThen;\n\nvar FORCED = isForced(PROMISE, function () {\n  var GLOBAL_CORE_JS_PROMISE = inspectSource(PromiseConstructor) !== String(PromiseConstructor);\n  if (!GLOBAL_CORE_JS_PROMISE) {\n    // V8 6.6 (Node 10 and Chrome 66) have a bug with resolving custom thenables\n    // https://bugs.chromium.org/p/chromium/issues/detail?id=830565\n    // We can't detect it synchronously, so just check versions\n    if (V8_VERSION === 66) return true;\n    // Unhandled rejections tracking support, NodeJS Promise without it fails @@species test\n    if (!IS_NODE && typeof PromiseRejectionEvent != 'function') return true;\n  }\n  // We need Promise#finally in the pure version for preventing prototype pollution\n  if (IS_PURE && !PromiseConstructor.prototype['finally']) return true;\n  // We can't use @@species feature detection in V8 since it causes\n  // deoptimization and performance degradation\n  // https://github.com/zloirock/core-js/issues/679\n  if (V8_VERSION >= 51 && /native code/.test(PromiseConstructor)) return false;\n  // Detect correctness of subclassing with @@species support\n  var promise = PromiseConstructor.resolve(1);\n  var FakePromise = function (exec) {\n    exec(function () { /* empty */ }, function () { /* empty */ });\n  };\n  var constructor = promise.constructor = {};\n  constructor[SPECIES] = FakePromise;\n  return !(promise.then(function () { /* empty */ }) instanceof FakePromise);\n});\n\nvar INCORRECT_ITERATION = FORCED || !checkCorrectnessOfIteration(function (iterable) {\n  PromiseConstructor.all(iterable)['catch'](function () { /* empty */ });\n});\n\n// helpers\nvar isThenable = function (it) {\n  var then;\n  return isObject(it) && typeof (then = it.then) == 'function' ? then : false;\n};\n\nvar notify = function (promise, state, isReject) {\n  if (state.notified) return;\n  state.notified = true;\n  var chain = state.reactions;\n  microtask(function () {\n    var value = state.value;\n    var ok = state.state == FULFILLED;\n    var index = 0;\n    // variable length - can't use forEach\n    while (chain.length > index) {\n      var reaction = chain[index++];\n      var handler = ok ? reaction.ok : reaction.fail;\n      var resolve = reaction.resolve;\n      var reject = reaction.reject;\n      var domain = reaction.domain;\n      var result, then, exited;\n      try {\n        if (handler) {\n          if (!ok) {\n            if (state.rejection === UNHANDLED) onHandleUnhandled(promise, state);\n            state.rejection = HANDLED;\n          }\n          if (handler === true) result = value;\n          else {\n            if (domain) domain.enter();\n            result = handler(value); // can throw\n            if (domain) {\n              domain.exit();\n              exited = true;\n            }\n          }\n          if (result === reaction.promise) {\n            reject(TypeError('Promise-chain cycle'));\n          } else if (then = isThenable(result)) {\n            then.call(result, resolve, reject);\n          } else resolve(result);\n        } else reject(value);\n      } catch (error) {\n        if (domain && !exited) domain.exit();\n        reject(error);\n      }\n    }\n    state.reactions = [];\n    state.notified = false;\n    if (isReject && !state.rejection) onUnhandled(promise, state);\n  });\n};\n\nvar dispatchEvent = function (name, promise, reason) {\n  var event, handler;\n  if (DISPATCH_EVENT) {\n    event = document.createEvent('Event');\n    event.promise = promise;\n    event.reason = reason;\n    event.initEvent(name, false, true);\n    global.dispatchEvent(event);\n  } else event = { promise: promise, reason: reason };\n  if (handler = global['on' + name]) handler(event);\n  else if (name === UNHANDLED_REJECTION) hostReportErrors('Unhandled promise rejection', reason);\n};\n\nvar onUnhandled = function (promise, state) {\n  task.call(global, function () {\n    var value = state.value;\n    var IS_UNHANDLED = isUnhandled(state);\n    var result;\n    if (IS_UNHANDLED) {\n      result = perform(function () {\n        if (IS_NODE) {\n          process.emit('unhandledRejection', value, promise);\n        } else dispatchEvent(UNHANDLED_REJECTION, promise, value);\n      });\n      // Browsers should not trigger `rejectionHandled` event if it was handled here, NodeJS - should\n      state.rejection = IS_NODE || isUnhandled(state) ? UNHANDLED : HANDLED;\n      if (result.error) throw result.value;\n    }\n  });\n};\n\nvar isUnhandled = function (state) {\n  return state.rejection !== HANDLED && !state.parent;\n};\n\nvar onHandleUnhandled = function (promise, state) {\n  task.call(global, function () {\n    if (IS_NODE) {\n      process.emit('rejectionHandled', promise);\n    } else dispatchEvent(REJECTION_HANDLED, promise, state.value);\n  });\n};\n\nvar bind = function (fn, promise, state, unwrap) {\n  return function (value) {\n    fn(promise, state, value, unwrap);\n  };\n};\n\nvar internalReject = function (promise, state, value, unwrap) {\n  if (state.done) return;\n  state.done = true;\n  if (unwrap) state = unwrap;\n  state.value = value;\n  state.state = REJECTED;\n  notify(promise, state, true);\n};\n\nvar internalResolve = function (promise, state, value, unwrap) {\n  if (state.done) return;\n  state.done = true;\n  if (unwrap) state = unwrap;\n  try {\n    if (promise === value) throw TypeError(\"Promise can't be resolved itself\");\n    var then = isThenable(value);\n    if (then) {\n      microtask(function () {\n        var wrapper = { done: false };\n        try {\n          then.call(value,\n            bind(internalResolve, promise, wrapper, state),\n            bind(internalReject, promise, wrapper, state)\n          );\n        } catch (error) {\n          internalReject(promise, wrapper, error, state);\n        }\n      });\n    } else {\n      state.value = value;\n      state.state = FULFILLED;\n      notify(promise, state, false);\n    }\n  } catch (error) {\n    internalReject(promise, { done: false }, error, state);\n  }\n};\n\n// constructor polyfill\nif (FORCED) {\n  // 25.4.3.1 Promise(executor)\n  PromiseConstructor = function Promise(executor) {\n    anInstance(this, PromiseConstructor, PROMISE);\n    aFunction(executor);\n    Internal.call(this);\n    var state = getInternalState(this);\n    try {\n      executor(bind(internalResolve, this, state), bind(internalReject, this, state));\n    } catch (error) {\n      internalReject(this, state, error);\n    }\n  };\n  // eslint-disable-next-line no-unused-vars\n  Internal = function Promise(executor) {\n    setInternalState(this, {\n      type: PROMISE,\n      done: false,\n      notified: false,\n      parent: false,\n      reactions: [],\n      rejection: false,\n      state: PENDING,\n      value: undefined\n    });\n  };\n  Internal.prototype = redefineAll(PromiseConstructor.prototype, {\n    // `Promise.prototype.then` method\n    // https://tc39.github.io/ecma262/#sec-promise.prototype.then\n    then: function then(onFulfilled, onRejected) {\n      var state = getInternalPromiseState(this);\n      var reaction = newPromiseCapability(speciesConstructor(this, PromiseConstructor));\n      reaction.ok = typeof onFulfilled == 'function' ? onFulfilled : true;\n      reaction.fail = typeof onRejected == 'function' && onRejected;\n      reaction.domain = IS_NODE ? process.domain : undefined;\n      state.parent = true;\n      state.reactions.push(reaction);\n      if (state.state != PENDING) notify(this, state, false);\n      return reaction.promise;\n    },\n    // `Promise.prototype.catch` method\n    // https://tc39.github.io/ecma262/#sec-promise.prototype.catch\n    'catch': function (onRejected) {\n      return this.then(undefined, onRejected);\n    }\n  });\n  OwnPromiseCapability = function () {\n    var promise = new Internal();\n    var state = getInternalState(promise);\n    this.promise = promise;\n    this.resolve = bind(internalResolve, promise, state);\n    this.reject = bind(internalReject, promise, state);\n  };\n  newPromiseCapabilityModule.f = newPromiseCapability = function (C) {\n    return C === PromiseConstructor || C === PromiseWrapper\n      ? new OwnPromiseCapability(C)\n      : newGenericPromiseCapability(C);\n  };\n\n  if (!IS_PURE && typeof NativePromise == 'function') {\n    nativeThen = NativePromise.prototype.then;\n\n    // wrap native Promise#then for native async functions\n    redefine(NativePromise.prototype, 'then', function then(onFulfilled, onRejected) {\n      var that = this;\n      return new PromiseConstructor(function (resolve, reject) {\n        nativeThen.call(that, resolve, reject);\n      }).then(onFulfilled, onRejected);\n    // https://github.com/zloirock/core-js/issues/640\n    }, { unsafe: true });\n\n    // wrap fetch result\n    if (typeof $fetch == 'function') $({ global: true, enumerable: true, forced: true }, {\n      // eslint-disable-next-line no-unused-vars\n      fetch: function fetch(input /* , init */) {\n        return promiseResolve(PromiseConstructor, $fetch.apply(global, arguments));\n      }\n    });\n  }\n}\n\n$({ global: true, wrap: true, forced: FORCED }, {\n  Promise: PromiseConstructor\n});\n\nsetToStringTag(PromiseConstructor, PROMISE, false, true);\nsetSpecies(PROMISE);\n\nPromiseWrapper = getBuiltIn(PROMISE);\n\n// statics\n$({ target: PROMISE, stat: true, forced: FORCED }, {\n  // `Promise.reject` method\n  // https://tc39.github.io/ecma262/#sec-promise.reject\n  reject: function reject(r) {\n    var capability = newPromiseCapability(this);\n    capability.reject.call(undefined, r);\n    return capability.promise;\n  }\n});\n\n$({ target: PROMISE, stat: true, forced: IS_PURE || FORCED }, {\n  // `Promise.resolve` method\n  // https://tc39.github.io/ecma262/#sec-promise.resolve\n  resolve: function resolve(x) {\n    return promiseResolve(IS_PURE && this === PromiseWrapper ? PromiseConstructor : this, x);\n  }\n});\n\n$({ target: PROMISE, stat: true, forced: INCORRECT_ITERATION }, {\n  // `Promise.all` method\n  // https://tc39.github.io/ecma262/#sec-promise.all\n  all: function all(iterable) {\n    var C = this;\n    var capability = newPromiseCapability(C);\n    var resolve = capability.resolve;\n    var reject = capability.reject;\n    var result = perform(function () {\n      var $promiseResolve = aFunction(C.resolve);\n      var values = [];\n      var counter = 0;\n      var remaining = 1;\n      iterate(iterable, function (promise) {\n        var index = counter++;\n        var alreadyCalled = false;\n        values.push(undefined);\n        remaining++;\n        $promiseResolve.call(C, promise).then(function (value) {\n          if (alreadyCalled) return;\n          alreadyCalled = true;\n          values[index] = value;\n          --remaining || resolve(values);\n        }, reject);\n      });\n      --remaining || resolve(values);\n    });\n    if (result.error) reject(result.value);\n    return capability.promise;\n  },\n  // `Promise.race` method\n  // https://tc39.github.io/ecma262/#sec-promise.race\n  race: function race(iterable) {\n    var C = this;\n    var capability = newPromiseCapability(C);\n    var reject = capability.reject;\n    var result = perform(function () {\n      var $promiseResolve = aFunction(C.resolve);\n      iterate(iterable, function (promise) {\n        $promiseResolve.call(C, promise).then(capability.resolve, reject);\n      });\n    });\n    if (result.error) reject(result.value);\n    return capability.promise;\n  }\n});\n","'use strict';\nvar anObject = require('../internals/an-object');\n\n// `RegExp.prototype.flags` getter implementation\n// https://tc39.github.io/ecma262/#sec-get-regexp.prototype.flags\nmodule.exports = function () {\n  var that = anObject(this);\n  var result = '';\n  if (that.global) result += 'g';\n  if (that.ignoreCase) result += 'i';\n  if (that.multiline) result += 'm';\n  if (that.dotAll) result += 's';\n  if (that.unicode) result += 'u';\n  if (that.sticky) result += 'y';\n  return result;\n};\n","'use strict';\n\nvar fails = require('./fails');\n\n// babel-minify transpiles RegExp('a', 'y') -> /a/y and it causes SyntaxError,\n// so we use an intermediate function.\nfunction RE(s, f) {\n  return RegExp(s, f);\n}\n\nexports.UNSUPPORTED_Y = fails(function () {\n  // babel-minify transpiles RegExp('a', 'y') -> /a/y and it causes SyntaxError\n  var re = RE('a', 'y');\n  re.lastIndex = 2;\n  return re.exec('abcd') != null;\n});\n\nexports.BROKEN_CARET = fails(function () {\n  // https://bugzilla.mozilla.org/show_bug.cgi?id=773687\n  var re = RE('^r', 'gy');\n  re.lastIndex = 2;\n  return re.exec('str') != null;\n});\n","'use strict';\nvar regexpFlags = require('./regexp-flags');\nvar stickyHelpers = require('./regexp-sticky-helpers');\n\nvar nativeExec = RegExp.prototype.exec;\n// This always refers to the native implementation, because the\n// String#replace polyfill uses ./fix-regexp-well-known-symbol-logic.js,\n// which loads this file before patching the method.\nvar nativeReplace = String.prototype.replace;\n\nvar patchedExec = nativeExec;\n\nvar UPDATES_LAST_INDEX_WRONG = (function () {\n  var re1 = /a/;\n  var re2 = /b*/g;\n  nativeExec.call(re1, 'a');\n  nativeExec.call(re2, 'a');\n  return re1.lastIndex !== 0 || re2.lastIndex !== 0;\n})();\n\nvar UNSUPPORTED_Y = stickyHelpers.UNSUPPORTED_Y || stickyHelpers.BROKEN_CARET;\n\n// nonparticipating capturing group, copied from es5-shim's String#split patch.\nvar NPCG_INCLUDED = /()??/.exec('')[1] !== undefined;\n\nvar PATCH = UPDATES_LAST_INDEX_WRONG || NPCG_INCLUDED || UNSUPPORTED_Y;\n\nif (PATCH) {\n  patchedExec = function exec(str) {\n    var re = this;\n    var lastIndex, reCopy, match, i;\n    var sticky = UNSUPPORTED_Y && re.sticky;\n    var flags = regexpFlags.call(re);\n    var source = re.source;\n    var charsAdded = 0;\n    var strCopy = str;\n\n    if (sticky) {\n      flags = flags.replace('y', '');\n      if (flags.indexOf('g') === -1) {\n        flags += 'g';\n      }\n\n      strCopy = String(str).slice(re.lastIndex);\n      // Support anchored sticky behavior.\n      if (re.lastIndex > 0 && (!re.multiline || re.multiline && str[re.lastIndex - 1] !== '\\n')) {\n        source = '(?: ' + source + ')';\n        strCopy = ' ' + strCopy;\n        charsAdded++;\n      }\n      // ^(? + rx + ) is needed, in combination with some str slicing, to\n      // simulate the 'y' flag.\n      reCopy = new RegExp('^(?:' + source + ')', flags);\n    }\n\n    if (NPCG_INCLUDED) {\n      reCopy = new RegExp('^' + source + '$(?!\\\\s)', flags);\n    }\n    if (UPDATES_LAST_INDEX_WRONG) lastIndex = re.lastIndex;\n\n    match = nativeExec.call(sticky ? reCopy : re, strCopy);\n\n    if (sticky) {\n      if (match) {\n        match.input = match.input.slice(charsAdded);\n        match[0] = match[0].slice(charsAdded);\n        match.index = re.lastIndex;\n        re.lastIndex += match[0].length;\n      } else re.lastIndex = 0;\n    } else if (UPDATES_LAST_INDEX_WRONG && match) {\n      re.lastIndex = re.global ? match.index + match[0].length : lastIndex;\n    }\n    if (NPCG_INCLUDED && match && match.length > 1) {\n      // Fix browsers whose `exec` methods don't consistently return `undefined`\n      // for NPCG, like IE8. NOTE: This doesn' work for /(.?)?/\n      nativeReplace.call(match[0], reCopy, function () {\n        for (i = 1; i < arguments.length - 2; i++) {\n          if (arguments[i] === undefined) match[i] = undefined;\n        }\n      });\n    }\n\n    return match;\n  };\n}\n\nmodule.exports = patchedExec;\n","'use strict';\nvar $ = require('../internals/export');\nvar exec = require('../internals/regexp-exec');\n\n$({ target: 'RegExp', proto: true, forced: /./.exec !== exec }, {\n  exec: exec\n});\n","'use strict';\n// TODO: Remove from `core-js@4` since it's moved to entry points\nrequire('../modules/es.regexp.exec');\nvar redefine = require('../internals/redefine');\nvar fails = require('../internals/fails');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar regexpExec = require('../internals/regexp-exec');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\n\nvar SPECIES = wellKnownSymbol('species');\n\nvar REPLACE_SUPPORTS_NAMED_GROUPS = !fails(function () {\n  // #replace needs built-in support for named groups.\n  // #match works fine because it just return the exec results, even if it has\n  // a \"grops\" property.\n  var re = /./;\n  re.exec = function () {\n    var result = [];\n    result.groups = { a: '7' };\n    return result;\n  };\n  return ''.replace(re, '$<a>') !== '7';\n});\n\n// IE <= 11 replaces $0 with the whole match, as if it was $&\n// https://stackoverflow.com/questions/6024666/getting-ie-to-replace-a-regex-with-the-literal-string-0\nvar REPLACE_KEEPS_$0 = (function () {\n  return 'a'.replace(/./, '$0') === '$0';\n})();\n\nvar REPLACE = wellKnownSymbol('replace');\n// Safari <= 13.0.3(?) substitutes nth capture where n>m with an empty string\nvar REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE = (function () {\n  if (/./[REPLACE]) {\n    return /./[REPLACE]('a', '$0') === '';\n  }\n  return false;\n})();\n\n// Chrome 51 has a buggy \"split\" implementation when RegExp#exec !== nativeExec\n// Weex JS has frozen built-in prototypes, so use try / catch wrapper\nvar SPLIT_WORKS_WITH_OVERWRITTEN_EXEC = !fails(function () {\n  var re = /(?:)/;\n  var originalExec = re.exec;\n  re.exec = function () { return originalExec.apply(this, arguments); };\n  var result = 'ab'.split(re);\n  return result.length !== 2 || result[0] !== 'a' || result[1] !== 'b';\n});\n\nmodule.exports = function (KEY, length, exec, sham) {\n  var SYMBOL = wellKnownSymbol(KEY);\n\n  var DELEGATES_TO_SYMBOL = !fails(function () {\n    // String methods call symbol-named RegEp methods\n    var O = {};\n    O[SYMBOL] = function () { return 7; };\n    return ''[KEY](O) != 7;\n  });\n\n  var DELEGATES_TO_EXEC = DELEGATES_TO_SYMBOL && !fails(function () {\n    // Symbol-named RegExp methods call .exec\n    var execCalled = false;\n    var re = /a/;\n\n    if (KEY === 'split') {\n      // We can't use real regex here since it causes deoptimization\n      // and serious performance degradation in V8\n      // https://github.com/zloirock/core-js/issues/306\n      re = {};\n      // RegExp[@@split] doesn't call the regex's exec method, but first creates\n      // a new one. We need to return the patched regex when creating the new one.\n      re.constructor = {};\n      re.constructor[SPECIES] = function () { return re; };\n      re.flags = '';\n      re[SYMBOL] = /./[SYMBOL];\n    }\n\n    re.exec = function () { execCalled = true; return null; };\n\n    re[SYMBOL]('');\n    return !execCalled;\n  });\n\n  if (\n    !DELEGATES_TO_SYMBOL ||\n    !DELEGATES_TO_EXEC ||\n    (KEY === 'replace' && !(\n      REPLACE_SUPPORTS_NAMED_GROUPS &&\n      REPLACE_KEEPS_$0 &&\n      !REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE\n    )) ||\n    (KEY === 'split' && !SPLIT_WORKS_WITH_OVERWRITTEN_EXEC)\n  ) {\n    var nativeRegExpMethod = /./[SYMBOL];\n    var methods = exec(SYMBOL, ''[KEY], function (nativeMethod, regexp, str, arg2, forceStringMethod) {\n      if (regexp.exec === regexpExec) {\n        if (DELEGATES_TO_SYMBOL && !forceStringMethod) {\n          // The native String method already delegates to @@method (this\n          // polyfilled function), leasing to infinite recursion.\n          // We avoid it by directly calling the native @@method method.\n          return { done: true, value: nativeRegExpMethod.call(regexp, str, arg2) };\n        }\n        return { done: true, value: nativeMethod.call(str, regexp, arg2) };\n      }\n      return { done: false };\n    }, {\n      REPLACE_KEEPS_$0: REPLACE_KEEPS_$0,\n      REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE: REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE\n    });\n    var stringMethod = methods[0];\n    var regexMethod = methods[1];\n\n    redefine(String.prototype, KEY, stringMethod);\n    redefine(RegExp.prototype, SYMBOL, length == 2\n      // 21.2.5.8 RegExp.prototype[@@replace](string, replaceValue)\n      // 21.2.5.11 RegExp.prototype[@@split](string, limit)\n      ? function (string, arg) { return regexMethod.call(string, this, arg); }\n      // 21.2.5.6 RegExp.prototype[@@match](string)\n      // 21.2.5.9 RegExp.prototype[@@search](string)\n      : function (string) { return regexMethod.call(string, this); }\n    );\n  }\n\n  if (sham) createNonEnumerableProperty(RegExp.prototype[SYMBOL], 'sham', true);\n};\n","var isObject = require('../internals/is-object');\nvar classof = require('../internals/classof-raw');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar MATCH = wellKnownSymbol('match');\n\n// `IsRegExp` abstract operation\n// https://tc39.github.io/ecma262/#sec-isregexp\nmodule.exports = function (it) {\n  var isRegExp;\n  return isObject(it) && ((isRegExp = it[MATCH]) !== undefined ? !!isRegExp : classof(it) == 'RegExp');\n};\n","var toInteger = require('../internals/to-integer');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\n\n// `String.prototype.{ codePointAt, at }` methods implementation\nvar createMethod = function (CONVERT_TO_STRING) {\n  return function ($this, pos) {\n    var S = String(requireObjectCoercible($this));\n    var position = toInteger(pos);\n    var size = S.length;\n    var first, second;\n    if (position < 0 || position >= size) return CONVERT_TO_STRING ? '' : undefined;\n    first = S.charCodeAt(position);\n    return first < 0xD800 || first > 0xDBFF || position + 1 === size\n      || (second = S.charCodeAt(position + 1)) < 0xDC00 || second > 0xDFFF\n        ? CONVERT_TO_STRING ? S.charAt(position) : first\n        : CONVERT_TO_STRING ? S.slice(position, position + 2) : (first - 0xD800 << 10) + (second - 0xDC00) + 0x10000;\n  };\n};\n\nmodule.exports = {\n  // `String.prototype.codePointAt` method\n  // https://tc39.github.io/ecma262/#sec-string.prototype.codepointat\n  codeAt: createMethod(false),\n  // `String.prototype.at` method\n  // https://github.com/mathiasbynens/String.prototype.at\n  charAt: createMethod(true)\n};\n","'use strict';\nvar charAt = require('../internals/string-multibyte').charAt;\n\n// `AdvanceStringIndex` abstract operation\n// https://tc39.github.io/ecma262/#sec-advancestringindex\nmodule.exports = function (S, index, unicode) {\n  return index + (unicode ? charAt(S, index).length : 1);\n};\n","var classof = require('./classof-raw');\nvar regexpExec = require('./regexp-exec');\n\n// `RegExpExec` abstract operation\n// https://tc39.github.io/ecma262/#sec-regexpexec\nmodule.exports = function (R, S) {\n  var exec = R.exec;\n  if (typeof exec === 'function') {\n    var result = exec.call(R, S);\n    if (typeof result !== 'object') {\n      throw TypeError('RegExp exec method returned something other than an Object or null');\n    }\n    return result;\n  }\n\n  if (classof(R) !== 'RegExp') {\n    throw TypeError('RegExp#exec called on incompatible receiver');\n  }\n\n  return regexpExec.call(R, S);\n};\n\n","'use strict';\nvar fixRegExpWellKnownSymbolLogic = require('../internals/fix-regexp-well-known-symbol-logic');\nvar isRegExp = require('../internals/is-regexp');\nvar anObject = require('../internals/an-object');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar speciesConstructor = require('../internals/species-constructor');\nvar advanceStringIndex = require('../internals/advance-string-index');\nvar toLength = require('../internals/to-length');\nvar callRegExpExec = require('../internals/regexp-exec-abstract');\nvar regexpExec = require('../internals/regexp-exec');\nvar fails = require('../internals/fails');\n\nvar arrayPush = [].push;\nvar min = Math.min;\nvar MAX_UINT32 = 0xFFFFFFFF;\n\n// babel-minify transpiles RegExp('x', 'y') -> /x/y and it causes SyntaxError\nvar SUPPORTS_Y = !fails(function () { return !RegExp(MAX_UINT32, 'y'); });\n\n// @@split logic\nfixRegExpWellKnownSymbolLogic('split', 2, function (SPLIT, nativeSplit, maybeCallNative) {\n  var internalSplit;\n  if (\n    'abbc'.split(/(b)*/)[1] == 'c' ||\n    'test'.split(/(?:)/, -1).length != 4 ||\n    'ab'.split(/(?:ab)*/).length != 2 ||\n    '.'.split(/(.?)(.?)/).length != 4 ||\n    '.'.split(/()()/).length > 1 ||\n    ''.split(/.?/).length\n  ) {\n    // based on es5-shim implementation, need to rework it\n    internalSplit = function (separator, limit) {\n      var string = String(requireObjectCoercible(this));\n      var lim = limit === undefined ? MAX_UINT32 : limit >>> 0;\n      if (lim === 0) return [];\n      if (separator === undefined) return [string];\n      // If `separator` is not a regex, use native split\n      if (!isRegExp(separator)) {\n        return nativeSplit.call(string, separator, lim);\n      }\n      var output = [];\n      var flags = (separator.ignoreCase ? 'i' : '') +\n                  (separator.multiline ? 'm' : '') +\n                  (separator.unicode ? 'u' : '') +\n                  (separator.sticky ? 'y' : '');\n      var lastLastIndex = 0;\n      // Make `global` and avoid `lastIndex` issues by working with a copy\n      var separatorCopy = new RegExp(separator.source, flags + 'g');\n      var match, lastIndex, lastLength;\n      while (match = regexpExec.call(separatorCopy, string)) {\n        lastIndex = separatorCopy.lastIndex;\n        if (lastIndex > lastLastIndex) {\n          output.push(string.slice(lastLastIndex, match.index));\n          if (match.length > 1 && match.index < string.length) arrayPush.apply(output, match.slice(1));\n          lastLength = match[0].length;\n          lastLastIndex = lastIndex;\n          if (output.length >= lim) break;\n        }\n        if (separatorCopy.lastIndex === match.index) separatorCopy.lastIndex++; // Avoid an infinite loop\n      }\n      if (lastLastIndex === string.length) {\n        if (lastLength || !separatorCopy.test('')) output.push('');\n      } else output.push(string.slice(lastLastIndex));\n      return output.length > lim ? output.slice(0, lim) : output;\n    };\n  // Chakra, V8\n  } else if ('0'.split(undefined, 0).length) {\n    internalSplit = function (separator, limit) {\n      return separator === undefined && limit === 0 ? [] : nativeSplit.call(this, separator, limit);\n    };\n  } else internalSplit = nativeSplit;\n\n  return [\n    // `String.prototype.split` method\n    // https://tc39.github.io/ecma262/#sec-string.prototype.split\n    function split(separator, limit) {\n      var O = requireObjectCoercible(this);\n      var splitter = separator == undefined ? undefined : separator[SPLIT];\n      return splitter !== undefined\n        ? splitter.call(separator, O, limit)\n        : internalSplit.call(String(O), separator, limit);\n    },\n    // `RegExp.prototype[@@split]` method\n    // https://tc39.github.io/ecma262/#sec-regexp.prototype-@@split\n    //\n    // NOTE: This cannot be properly polyfilled in engines that don't support\n    // the 'y' flag.\n    function (regexp, limit) {\n      var res = maybeCallNative(internalSplit, regexp, this, limit, internalSplit !== nativeSplit);\n      if (res.done) return res.value;\n\n      var rx = anObject(regexp);\n      var S = String(this);\n      var C = speciesConstructor(rx, RegExp);\n\n      var unicodeMatching = rx.unicode;\n      var flags = (rx.ignoreCase ? 'i' : '') +\n                  (rx.multiline ? 'm' : '') +\n                  (rx.unicode ? 'u' : '') +\n                  (SUPPORTS_Y ? 'y' : 'g');\n\n      // ^(? + rx + ) is needed, in combination with some S slicing, to\n      // simulate the 'y' flag.\n      var splitter = new C(SUPPORTS_Y ? rx : '^(?:' + rx.source + ')', flags);\n      var lim = limit === undefined ? MAX_UINT32 : limit >>> 0;\n      if (lim === 0) return [];\n      if (S.length === 0) return callRegExpExec(splitter, S) === null ? [S] : [];\n      var p = 0;\n      var q = 0;\n      var A = [];\n      while (q < S.length) {\n        splitter.lastIndex = SUPPORTS_Y ? q : 0;\n        var z = callRegExpExec(splitter, SUPPORTS_Y ? S : S.slice(q));\n        var e;\n        if (\n          z === null ||\n          (e = min(toLength(splitter.lastIndex + (SUPPORTS_Y ? 0 : q)), S.length)) === p\n        ) {\n          q = advanceStringIndex(S, q, unicodeMatching);\n        } else {\n          A.push(S.slice(p, q));\n          if (A.length === lim) return A;\n          for (var i = 1; i <= z.length - 1; i++) {\n            A.push(z[i]);\n            if (A.length === lim) return A;\n          }\n          q = p = e;\n        }\n      }\n      A.push(S.slice(p));\n      return A;\n    }\n  ];\n}, !SUPPORTS_Y);\n","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar runtime = (function (exports) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function define(obj, key, value) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n    return obj[key];\n  }\n  try {\n    // IE 8 has a broken Object.defineProperty that only works on DOM objects.\n    define({}, \"\");\n  } catch (err) {\n    define = function(obj, key, value) {\n      return obj[key] = value;\n    };\n  }\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  exports.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  IteratorPrototype[iteratorSymbol] = function () {\n    return this;\n  };\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;\n  GeneratorFunctionPrototype.constructor = GeneratorFunction;\n  GeneratorFunction.displayName = define(\n    GeneratorFunctionPrototype,\n    toStringTagSymbol,\n    \"GeneratorFunction\"\n  );\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      define(prototype, method, function(arg) {\n        return this._invoke(method, arg);\n      });\n    });\n  }\n\n  exports.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  exports.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      define(genFun, toStringTagSymbol, \"GeneratorFunction\");\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  exports.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return PromiseImpl.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return PromiseImpl.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration.\n          result.value = unwrapped;\n          resolve(result);\n        }, function(error) {\n          // If a rejected Promise was yielded, throw the rejection back\n          // into the async generator function so it can be handled there.\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new PromiseImpl(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  AsyncIterator.prototype[asyncIteratorSymbol] = function () {\n    return this;\n  };\n  exports.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  exports.async = function(innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    if (PromiseImpl === void 0) PromiseImpl = Promise;\n\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList),\n      PromiseImpl\n    );\n\n    return exports.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        // Note: [\"return\"] must be used for ES3 parsing compatibility.\n        if (delegate.iterator[\"return\"]) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  define(Gp, toStringTagSymbol, \"Generator\");\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  Gp[iteratorSymbol] = function() {\n    return this;\n  };\n\n  Gp.toString = function() {\n    return \"[object Generator]\";\n  };\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  exports.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  exports.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n\n  // Regardless of whether this script is executing as a CommonJS module\n  // or not, return the runtime object so that we can declare the variable\n  // regeneratorRuntime in the outer scope, which allows this module to be\n  // injected easily by `bin/regenerator --include-runtime script.js`.\n  return exports;\n\n}(\n  // If this script is executing as a CommonJS module, use module.exports\n  // as the regeneratorRuntime namespace. Otherwise create a new empty\n  // object. Either way, the resulting object will be used to initialize\n  // the regeneratorRuntime variable at the top of this file.\n  typeof module === \"object\" ? module.exports : {}\n));\n\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  // This module should not be running in strict mode, so the above\n  // assignment should always work unless something is misconfigured. Just\n  // in case runtime.js accidentally runs in strict mode, we can escape\n  // strict mode using a global Function call. This could conceivably fail\n  // if a Content Security Policy forbids using Function, but in that case\n  // the proper solution is to fix the accidental strict mode problem. If\n  // you've misconfigured your bundler to force strict mode and applied a\n  // CSP to forbid Function, and you're not willing to fix either of those\n  // problems, please detail your unique predicament in a GitHub issue.\n  Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n}\n","import mapray from \"@mapray/mapray-js\";\n\nvar GeoMath = mapray.GeoMath;\nvar GeoPoint = mapray.GeoPoint;\n\n/**\n * @summary æ¨æºMaprayãã¥ã¼ã¯\n *\n * @class StandardUIViewer\n * @extends {mapray.RenderCallback}\n */\nclass StandardUIViewer extends mapray.RenderCallback\n{\n    /**\n     * @summary ã³ã³ã¹ãã©ã¯ã¿\n     * @param {string|Element}              container                               ãã¥ã¼ã¯ä½æåã®ã³ã³ããï¼IDã¾ãã¯è¦ç´ ï¼\n     * @param {string}                      access_token                            ã¢ã¯ã»ã¹ãã¼ã¯ã³\n     * @param {object}                      options                                 çæãªãã·ã§ã³\n     * @param {mapray.DemProvider}          options.dem_provider                    DEMãã­ãã¤ã\n     * @param {mapray.ImageProvider}        options.image_provider                  ç»åãã­ãã¤ã\n     * @param {array}                       options.layers                          å°å³ã¬ã¤ã¤ã¼éå\n     * @param {mapray.Viewer.RenderMode}    options.render_mode                     ã¬ã³ããªã³ã°ã¢ã¼ã\n     * @param {mapray.DebugStats}           options.debug_stats                     ãããã°çµ±è¨ãªãã¸ã§ã¯ã\n     * @param {mapray.Attributionontroller} options.attribution_controller          èä½æ¨©è¡¨ç¤ºã®è¡¨ç¤ºå¶å¾¡\n     * @param {object}                      options.camera_position                 ã«ã¡ã©ä½ç½®\n     * @param {number}                      options.camera_position.latitude        ç·¯åº¦ï¼åº¦ï¼\n     * @param {number}                      options.camera_position.longitude       çµåº¦ï¼åº¦ï¼\n     * @param {number}                      options.camera_position.height          é«ãï¼mï¼\n     * @param {object}                      options.lookat_position                 æ³¨è¦ç¹ä½ç½®\n     * @param {number}                      options.lookat_position.latitude        ç·¯åº¦ï¼åº¦ï¼\n     * @param {number}                      options.lookat_position.longitude       çµåº¦ï¼åº¦ï¼\n     * @param {number}                      options.lookat_position.height          é«ãï¼mï¼\n     * @param {object}                      options.camera_parameter                ã«ã¡ã©ãã©ã¡ã¼ã¿\n     * @param {number}                      options.camera_parameter.fov            ç»è§ï¼åº¦ï¼\n     * @param {number}                      options.camera_parameter.near           è¿æ¥å¹³é¢è·é¢ï¼mï¼\n     * @param {number}                      options.camera_parameter.far            é æ¹å¹³é¢è·é¢ï¼mï¼\n     * @param {number}                      options.camera_parameter.speed_factor   ç§»åéåº¦ä¿æ°\n     * @memberof StandardUIViewer\n     */\n    constructor( container, access_token, options )\n    {\n        super();\n\n        this.createViewer( container, access_token, options );\n\n        // ã«ã¡ã©ãã©ã¡ã¼ã¿\n        this._camera_parameter = {\n            latitude: 0,         // ç·¯åº¦\n            longitude: 0,        // çµåº¦\n            height: 0,           // é«åº¦\n            pitch: 0,            // ä¸ä¸ï¼Xè»¸ï¼åè»¢\n            yaw: 0,              // å·¦å³ï¼Zè»¸ï¼åè»¢\n            fov: 0,              // ç»è§\n            near: 0,             // è¿æ¥å¹³é¢è·é¢\n            far: 0,              // é æ¹å¹³é¢è·é¢\n        };\n\n        this._operation_mode = StandardUIViewer.OperationMode.NONE;         // æä½ã¢ã¼ã\n\n        this._mouse_down_position = GeoMath.createVector2f();               // ãã¦ã¹ãã¦ã³ããä½ç½®\n        this._pre_mouse_position = GeoMath.createVector2f();                // ç´åã®ãã¦ã¹ä½ç½®\n        this._rotate_center = GeoMath.createVector3();                      // åè»¢ä¸­å¿\n\n        this._translate_drag = GeoMath.createVector2f();                    // å¹³è¡ç§»åã®ç§»åéï¼ãã¦ã¹ã®ç§»åéï¼\n        this._translate_eye_drag = GeoMath.createVector2f();                // å¹³è¡ç§»åã®ç§»åéï¼ãã¦ã¹ã®ç§»åéï¼\n        this._rotate_drag = GeoMath.createVector2f();                       // åè»¢ã®ç§»åéï¼ãã¦ã¹ã®ç§»åéï¼\n        this._free_rotate_drag = GeoMath.createVector2f();                  // èªç±åè»¢ã®ç§»åéï¼ãã¦ã¹ã®ç§»åéï¼\n        this._height_drag = GeoMath.createVector2f();                       // é«åº¦å¤æ´ã®ç§»åéï¼ãã¦ã¹ã®ç§»åéï¼\n\n        this._zoom_wheel = 0;                                               // è¦ç·æ¹åã¸ã®ç§»åéï¼ãã¤ã¼ã«ã®ç§»åéï¼\n        this._fovy_key = 0;                                                 // ç»è§å¤æ´ã®æå®åæ°\n\n        this._default_fov = StandardUIViewer.DEFAULT_CAMERA_PARAMETER.fov   // ãªã»ããç¨ã®ç»è§\n\n        this._key_mode = false;                                             // ã­ã¼æä½ä¸­\n\n        this._update_url_hash = false;                                          // URLHashæ´æ°ãã©ã°\n        this._update_url_hash_full_digits = false;                              // URLã«å«ãå¤ã®æ¡æ°(true:å¨æ¡, false:æ¡æ°å¶é)\n\n        this._last_camera_parameter = {\n          latitude: -1,         // ç·¯åº¦\n          longitude: -1,        // çµåº¦\n          height: 0,           // é«åº¦\n          pitch: 0,            // ä¸ä¸ï¼Xè»¸ï¼åè»¢\n          yaw: 0,              // å·¦å³ï¼Zè»¸ï¼åè»¢\n          fov: 0,              // ç»è§\n          near: 0,             // è¿æ¥å¹³é¢è·é¢\n          far: 0,              // é æ¹å¹³é¢è·é¢\n        }\n\n        // for FlyCamera\n        this._viewerCameraMode = StandardUIViewer.CameraMode.CAMERA_FREE;\n        this._animation = new mapray.animation.EasyBindingBlock();\n        this._updater = new mapray.animation.Updater();\n        this._curve_move = null;\n        this._curve_rotation = null;\n        this._flycamera_total_time = 0;\n        this._flycamera_target_time = 0;\n        this._flyPosition = new mapray.GeoPoint( 0, 0, 0 );\n        this._flyRotation = GeoMath.setIdentity( GeoMath.createMatrix() );\n\n\n        // ã«ã¡ã©ãã©ã¡ã¼ã¿ã®åæå\n        this._initCameraParameter( options );\n\n    }\n\n    /**\n     * @summary ãã¥ã¼ã¯ã®ä½æ\n     * @param {string|Element}              container                               ãã¥ã¼ã¯ä½æåã®ã³ã³ããï¼IDã¾ãã¯è¦ç´ ï¼\n     * @param {string}                      access_token                            ã¢ã¯ã»ã¹ãã¼ã¯ã³\n     * @param {object}                      options                                 çæãªãã·ã§ã³\n     * @param {mapray.DemProvider}          options.dem_provider                    DEMãã­ãã¤ã\n     * @param {mapray.ImageProvider}        options.image_provider                  ç»åãã­ãã¤ã\n     * @param {array}                       options.layers                          å°å³ã¬ã¤ã¤ã¼éå\n     * @param {mapray.Viewer.RenderMode}    options.render_mode                     ã¬ã³ããªã³ã°ã¢ã¼ã\n     * @param {mapray.DebugStats}           options.debug_stats                     ãããã°çµ±è¨ãªãã¸ã§ã¯ã\n     * @param {mapray.Attributionontroller} options.attribution_controller          èä½æ¨©è¡¨ç¤ºã®è¡¨ç¤ºå¶å¾¡\n     */\n    createViewer( container, access_token, options ) {\n        if ( this._viewer )\n        {\n            this.destroy();\n        }\n\n        this._viewer = new mapray.Viewer(\n            container, {\n            dem_provider: this._createDemProvider( access_token, options ),\n            image_provider: this._createImageProvider( options ),\n            layers: ( options && options.layers ) || null,\n            render_callback: this,\n            render_mode: ( options && options.render_mode ) || mapray.Viewer.RenderMode.SURFACE,\n            debug_stats: ( options && options.debug_stats ) || null,\n            attribution_controller: ( options && options.attribution_controller ) || null\n        }\n        );\n\n        // å³ã¯ãªãã¯ã¡ãã¥ã¼ã®ç¡å¹å\n        var element = this._viewer._canvas_element;\n        element.setAttribute( \"oncontextmenu\", \"return false;\" );\n\n        // For getting KeybordEvent\n        element.setAttribute('tabindex', '0');\n\n        // ã¤ãã³ããªã¹ãã¼ã®è¿½å \n        this._addEventListener();\n\n        return this._viewer;\n    }\n\n    /**\n     * @summary ç ´æ£é¢æ°\n     *\n     * @memberof StandardUIViewer\n     */\n    destroy()\n    {\n        if ( !this._viewer )\n        {\n            return;\n        }\n\n        this._removeEventListener()\n\n        this._viewer.destroy();\n        this._viewer = null;\n    }\n\n    /**\n     * @summary ãã¥ã¼ã¯\n     * @type {mapray.viewer}\n     * @readonly\n     * @memberof StandardUIViewer\n     */\n    get viewer()\n    {\n        return this._viewer;\n    }\n\n    /**\n     * @summary DEMãã­ãã¤ãã®çæ\n     *\n     * @private\n     * @param {string}                      access_token            ã¢ã¯ã»ã¹ãã¼ã¯ã³\n     * @param {object}                      options                 çæãªãã·ã§ã³\n     * @param {mapray.DemProvider}          options.dem_provider    DEMãã­ãã¤ã\n     * @returns {mapray.DemProvider}                                DEMãã­ãã¤ã\n     * @memberof StandardUIViewer\n     */\n    _createDemProvider( access_token, options )\n    {\n        return ( options && options.dem_provider ) || new mapray.CloudDemProvider( access_token );\n    }\n\n    /**\n     * @summary ç»åãã­ãã¤ãã®çæ\n     *\n     * @private\n     * @param {object}                      options                 çæãªãã·ã§ã³\n     * @param {mapray.ImageProvider}        options.image_provider  ç»åãã­ãã¤ã\n     * @returns {mapray.ImageProvider}                              ç»åãã­ãã¤ã\n     * @memberof StandardUIViewer\n     */\n    _createImageProvider( options )\n    {\n        return ( options && options.image_provider ) || new mapray.StandardImageProvider( \"https://cyberjapandata.gsi.go.jp/xyz/seamlessphoto/\", \".jpg\", 256, 2, 18 );\n    }\n\n    /**\n     * @summary ã«ã¡ã©ãã©ã¡ã¼ã¿ã®åæå\n     *\n     * @private\n     * @param {object}                      [options]                               ãªãã·ã§ã³\n     * @param {object}                      options.camera_position                 ã«ã¡ã©ä½ç½®\n     * @param {number}                      options.camera_position.latitude        ç·¯åº¦ï¼åº¦ï¼\n     * @param {number}                      options.camera_position.longitude       çµåº¦ï¼åº¦ï¼\n     * @param {number}                      options.camera_position.height          é«ãï¼mï¼\n     * @param {object}                      options.lookat_position                 æ³¨è¦ç¹ä½ç½®\n     * @param {number}                      options.lookat_position.latitude        ç·¯åº¦ï¼åº¦ï¼\n     * @param {number}                      options.lookat_position.longitude       çµåº¦ï¼åº¦ï¼\n     * @param {number}                      options.lookat_position.height          é«ãï¼mï¼\n     * @param {object}                      options.camera_parameter                ã«ã¡ã©ãã©ã¡ã¼ã¿\n     * @param {number}                      options.camera_parameter.fov            ç»è§ï¼åº¦ï¼\n     * @param {number}                      options.camera_parameter.near           è¿æ¥å¹³é¢è·é¢ï¼mï¼\n     * @param {number}                      options.camera_parameter.far            é æ¹å¹³é¢è·é¢ï¼mï¼\n     * @param {number}                      options.camera_parameter.speed_factor   ç§»åéåº¦ä¿æ°\n     * @memberof StandardUIViewer\n     */\n    _initCameraParameter( options = {})\n    {\n        var camera_position = options.camera_position || StandardUIViewer.DEFAULT_CAMERA_POSITION;\n        var lookat_position = options.lookat_position || StandardUIViewer.DEFAULT_LOOKAT_POSITION;\n        var camera_parameter = options.camera_parameter || StandardUIViewer.DEFAULT_CAMERA_PARAMETER;\n\n        // ã«ã¡ã©ä½ç½®ã®è¨­å®\n        this.setCameraPosition( camera_position );\n\n        //ãæ³¨è¦ç¹ä½ç½®ã®è¨­å®\n        this.setLookAtPosition( lookat_position );\n\n        // ã«ã¡ã©ãã©ã¡ã¼ã¿ã®è¨­å®\n        this.setCameraParameter( camera_parameter );\n\n        // ã«ã¡ã©å§¿å¢ã®ç¢ºå®\n        this._updateViewerCamera();\n    }\n\n\n    /**\n     * @summary URLã«ããã«ã¡ã©ãã©ã¡ã¼ã¿ã®åæå\n     * @desc\n     * <p> URLæå®ç´å¾ã¯DEMãã¼ã¿ãå­å¨ããªããã¾ãã¯ç²¾åº¦ãèãããå°è¡¨ä»è¿ã®ä½ç½®ãæå®ããæãã«ã¡ã©ã®é«åº¦è£æ­£ã«ããã«ã¡ã©é«åº¦ãé«ãè¨­å®ããããã¨ãããã¾ã </p>\n     *\n     * @param {object}                      [options]                               ãªãã·ã§ã³\n     * @param {object}                      options.camera_position                 ã«ã¡ã©ä½ç½®\n     * @param {number}                      options.camera_position.latitude        ç·¯åº¦ï¼åº¦ï¼\n     * @param {number}                      options.camera_position.longitude       çµåº¦ï¼åº¦ï¼\n     * @param {number}                      options.camera_position.height          é«ãï¼mï¼\n     * @param {object}                      options.lookat_position                 æ³¨è¦ç¹ä½ç½®\n     * @param {number}                      options.lookat_position.latitude        ç·¯åº¦ï¼åº¦ï¼\n     * @param {number}                      options.lookat_position.longitude       çµåº¦ï¼åº¦ï¼\n     * @param {number}                      options.lookat_position.height          é«ãï¼mï¼\n     * @param {object}                      options.camera_parameter                ã«ã¡ã©ãã©ã¡ã¼ã¿\n     * @param {number}                      options.camera_parameter.fov            ç»è§ï¼åº¦ï¼\n     * @param {number}                      options.camera_parameter.near           è¿æ¥å¹³é¢è·é¢ï¼mï¼\n     * @param {number}                      options.camera_parameter.far            é æ¹å¹³é¢è·é¢ï¼mï¼\n     * @param {number}                      options.camera_parameter.speed_factor   ç§»åéåº¦ä¿æ°\n     * @param {boolean}                     options.url_update                      URL Hashæ´æ°\n     * @memberof StandardUIViewer\n     */\n    initCameraParameterFromURL( options = {} )\n    {\n        var camera_position = options.camera_position || StandardUIViewer.DEFAULT_CAMERA_POSITION;\n        var lookat_position = options.lookat_position || StandardUIViewer.DEFAULT_LOOKAT_POSITION;\n        var camera_parameter = options.camera_parameter || StandardUIViewer.DEFAULT_CAMERA_PARAMETER;\n        var url_yaw = 0;\n\n        if ( options.url_update ) {\n            this.setURLUpdate(options.url_update);\n        }\n\n        const url_parameter = this._extractURLParameter();\n        if ( url_parameter ) {\n          camera_position = url_parameter.camera_position;\n          lookat_position = url_parameter.lookat_position;\n          url_yaw = url_parameter.yaw;\n        }\n\n        // ã«ã¡ã©ä½ç½®ã®è¨­å®\n        this.setCameraPosition( camera_position );\n\n        //ãæ³¨è¦ç¹ä½ç½®ã®è¨­å®\n        this.setLookAtPosition( lookat_position, url_yaw );\n\n        // ã«ã¡ã©ãã©ã¡ã¼ã¿ã®è¨­å®\n        this.setCameraParameter( camera_parameter );\n\n        // ã«ã¡ã©å§¿å¢ã®ç¢ºå®\n        this._updateViewerCamera();\n\n    }\n\n    /**\n     * @summary URLã®ãã©ã¡ã¼ã¿ã®æ½åºã¨ãã«ã¡ã©ãã©ã¡ã¼ã¿ã®ç®åº\n     *\n     * @private\n     * @memberof StandardUIViewer\n     */\n    _extractURLParameter()\n    {\n        let urlHash = window.location.hash;\n\n        if ( urlHash.length === 0)\n        {\n            // URLã«ä½ç½®æå ±ã¯ç¡ã ã¾ãã¯ ä¸æ­£\n            return;\n        }\n\n        // åé ­ã®#ãåé¤\n        urlHash = urlHash.slice(1);\n\n        const split_parameter = urlHash.split( '/' );\n        if ( split_parameter.length < 2 )\n        {\n            // ãã©ã¡ã¼ã¿ä¸è¶³\n            return;\n        }\n\n        // 1,2çªç®ã®ãã©ã¡ã¼ã¿ã¯ lat, lon\n        let value = parseFloat(split_parameter[0]);\n        if ( !( (typeof value === 'number') && (isFinite(value)) ) )\n        {\n            return;\n        }\n        var latitude = value;\n\n        value = parseFloat(split_parameter[1]);\n        if ( !( (typeof value === 'number') && (isFinite(value)) ) )\n        {\n            return;\n        }\n        var longitude = value;\n\n        // ããã©ã«ãã¨ãã¦å°é¢é«ããå¥ãã¦ãã\n        // const target_altitude = this._viewer.getElevation(latitude, longitude);\n        const target_altitude = 8000; //ä»ã¯é«ç²¾åº¦DEMãåå¾ã§ããªãã®ã§ããã©ã«ãã¯8000m\n        var altitude = target_altitude;\n\n        // default\n        var range = 1000;\n        var tilt = 0;\n        var heading = 0;\n\n        // ãã©ã¡ã¼ã¿ã®è§£æ\n        for ( let num = 2; split_parameter.length > num; num++) {\n            const value = split_parameter[num];\n            const converted_value = this._getURLParameterValue(value);\n            if(!isNaN(converted_value)) {\n                // è¨å·ãã§ãã¯\n                switch ( value. slice(-1) ) {\n                    case 'a':\n                      altitude = converted_value;\n                      break;\n                    case 't':\n                      tilt = converted_value;\n                      break;\n                    case 'r':\n                      range = converted_value;\n                      break;\n                    case 'h':\n                      heading = converted_value;\n                      break;\n                }\n            }\n        }\n\n        var tilt_theta = tilt * GeoMath.DEGREE;\n\n        var camera_z = range * Math.cos(tilt_theta);\n        var flat_length = range * Math.sin(tilt_theta);\n\n        const camera_geoPoint = this._destination(longitude, latitude, flat_length, heading);\n\n        let camera_position = { height:altitude + camera_z, longitude:camera_geoPoint.longitude, latitude:camera_geoPoint.latitude};\n        let lookat_position = { height:altitude, longitude:longitude, latitude:latitude};\n\n        return {camera_position: camera_position, lookat_position: lookat_position, yaw:heading};\n    }\n\n    /**\n     * @summary URLã«å«ã¾ãããã©ã¡ã¼ã¿ã®æ°å¤å\n     *\n     * @private\n     * @param {string}  str     URLããæ½åºããããã©ã¡ã¼ã¿æå­å\n     * @memberof StandardUIViewer\n     */\n    _getURLParameterValue( str )\n    {\n        const value = parseFloat(str);\n        if ( (typeof value === 'number') && (isFinite(value)) )\n        {\n            return value;\n        }\n        return NaN;\n    }\n\n    /**\n     * @summary ã¤ãã³ããªã¹ãã¼ã®è¿½å \n     *\n     * @private\n     * @memberof StandardUIViewer\n     */\n    _addEventListener()\n    {\n        var canvas = this._viewer._canvas_element;\n        var self = this;\n\n        this._onBlur = this._onBlur.bind(this);\n        this._onMouseDown = this._onMouseDown.bind(this);\n        this._onMouseMove = this._onMouseMove.bind(this);\n        this._onMouseUp = this._onMouseUp.bind(this);\n        this._onMouseWheel = this._onMouseWheel.bind(this);\n        this._onKeyDown = this._onKeyDown.bind(this);\n        this._onKeyUp = this._onKeyUp.bind(this);\n\n        window.addEventListener( \"blur\", self._onBlur, { passive: false } );\n        canvas.addEventListener( \"mousedown\", self._onMouseDown, { passive: true } );\n        canvas.addEventListener( \"mousemove\", self._onMouseMove, { passive: true } );\n        document.addEventListener( \"mousemove\", self._onMouseMove, { capture: true } );\n        canvas.addEventListener( \"mouseup\", self._onMouseUp, { passive: true } );\n        document.addEventListener( \"mouseup\", self._onMouseUp, { capture: false } );\n        canvas.addEventListener( \"wheel\", self._onMouseWheel, { passive : false } );\n        canvas.addEventListener( \"keydown\", self._onKeyDown, { capture: false, passive: false } );\n        canvas.addEventListener( \"keyup\", self._onKeyUp, { passive: true } );\n    }\n\n    /**\n     * @summary ã¤ãã³ããªã¹ãã¼ã®åé¤\n     *\n     * @private\n     * @memberof StandardUIViewer\n     */\n    _removeEventListener()\n    {\n        var canvas = this._viewer._canvas_element;\n        var self = this;\n\n        window.removeEventListener( \"blur\", self._onBlur, { passive: false } );\n        canvas.removeEventListener( \"mousedown\", self._onMouseDown, { passive: true } );\n        canvas.removeEventListener( \"mousemove\", self._onMouseMove, { passive: true } );\n        document.removeEventListener( \"mousemove\", self._onMouseMove, { capture: true } );\n        canvas.removeEventListener( \"mouseup\", self._onMouseUp, { passive: true } );\n        document.removeEventListener( \"mouseup\", self._onMouseUp, { capture: false } );\n        canvas.removeEventListener( \"wheel\", self._onMouseWheel, { passive : false } );\n        canvas.removeEventListener( \"keydown\", self._onKeyDown, { capture: false, passive: false } );\n        canvas.removeEventListener( \"keyup\", self._onKeyUp, { passive: true } );\n    }\n\n\n    /**\n     * @summary ã¬ã³ããªã³ã°ã«ã¼ãéå§ã®å¦ç\n     *\n     * @memberof StandardUIViewer\n     */\n    onStart()\n    {\n\n    }\n\n    /**\n     * @summary ã¬ã³ããªã³ã°ã«ã¼ãçµäºã®å¦ç\n     *\n     * @memberof StandardUIViewer\n     */\n    onStop()\n    {\n\n    }\n\n    /**\n     * @summary ãã¬ã¼ã ã¬ã³ããªã³ã°åã®å¦ç\n     *\n     * @param {number} delta_time  å¨ãã¬ã¼ã ããã®çµéæéï¼ç§ï¼\n     * @memberof StandardUIViewer\n     */\n    onUpdateFrame( delta_time )\n    {\n        if(this._viewerCameraMode === StandardUIViewer.CameraMode.CAMERA_FLY) {\n            this.updateFlyCamera( delta_time );\n\n        } else {\n            // å¹³è¡ç§»å\n            this._translation( delta_time );\n\n            // åè»¢\n            this._rotation();\n\n            // èªç±åè»¢\n            this._freeRotation( delta_time )\n\n            // é«ãå¤æ´\n            this._translationOfHeight();\n\n            //ãè¦ç·æ¹åç§»å\n            this._translationOfEyeDirection();\n\n            // ç»è§å¤æ´\n            this._changeFovy();\n\n            // é«åº¦è£æ­£\n            this._correctAltitude();\n\n            // ã¯ãªããç¯å²ã®æ´æ°\n            this._updateClipPlane();\n\n            // ã«ã¡ã©å§¿å¢ã®ç¢ºå®\n            this._updateViewerCamera();\n        }\n    }\n\n    /**\n     * @summary ã«ã¡ã©ã®ä½ç½®ã»åãã®æ´æ°\n     *\n     * @private\n     * @memberof StandardUIViewer\n     */\n    _updateViewerCamera()\n    {\n        var camera = this._viewer.camera;\n\n        var camera_geoPoint = new GeoPoint( this._camera_parameter.longitude, this._camera_parameter. latitude, this._camera_parameter.height );\n        var camera_matrix = camera_geoPoint.getMlocsToGocsMatrix( GeoMath.createMatrix() );\n\n        var pitch_matrix = GeoMath.rotation_matrix( [1, 0, 0], this._camera_parameter.pitch, GeoMath.createMatrix() );\n        var yaw_matrix = GeoMath.rotation_matrix( [0, 0, 1], this._camera_parameter.yaw, GeoMath.createMatrix() );\n        var eye_matrix = GeoMath.mul_AA( yaw_matrix, pitch_matrix, GeoMath.createMatrix() );\n\n        camera.view_to_gocs = GeoMath.mul_AA( camera_matrix, eye_matrix, GeoMath.createMatrix() );\n\n        camera.fov = this._camera_parameter.fov;\n\n        camera.near = this._camera_parameter.near;\n        camera.far = this._camera_parameter.far;\n\n        // URLæ¸ãæã\n        this._updateURLHash();\n    }\n\n\n    /**\n     * @summary URL Hashã®æ´æ°è¨­å®\n     *\n     * @param {boolean} flag  æ´æ°è¨­å® trueã§URLæ´æ°\n     * @private\n     * @memberof StandardUIViewer\n     */\n    setURLUpdate( flag )\n    {\n        this._update_url_hash = flag;\n    }\n\n    /**\n     * @summary URLHashã®æ´æ°\n     *\n     * @private\n     * @memberof StandardUIViewer\n     */\n    _updateURLHash()\n    {\n      if( this._update_url_hash && this._operation_mode === StandardUIViewer.OperationMode.NONE ) {\n          if(\n            ( this._last_camera_parameter.latitude !== this._camera_parameter.latitude ) ||\n            ( this._last_camera_parameter.longitude !== this._camera_parameter.longitude ) ||\n            ( this._last_camera_parameter.height !== this._camera_parameter.height ) ||\n            ( this._last_camera_parameter.pitch !== this._camera_parameter.pitch ) ||\n            ( this._last_camera_parameter.yaw !== this._camera_parameter.yaw )\n          ) {\n              // æ³¨è¦ç¹\n              // ç»é¢ä¸­å¤®ãç§»ååºæºã«ãã\n              var canvas = this._viewer.canvas_element;\n              var center_position = [canvas.width / 2, canvas.height / 2];\n\n              // ã­ã£ã³ãã¹åº§æ¨ã®ã¬ã¤ãåå¾\n              var ray = this.viewer.camera.getCanvasRay(center_position, new mapray.Ray());\n\n              // ã¬ã¤ã¨å°è¡¨ã®äº¤ç¹ãæ±ãã\n              var cross_point = this.viewer.getRayIntersection(ray);\n\n              if (cross_point != null) {\n                  var cross_geoPoint = new mapray.GeoPoint();\n                  cross_geoPoint.setFromGocs( cross_point );\n\n                  var cross_altitude = this._viewer.getElevation(cross_geoPoint.latitude, cross_geoPoint.longitude);\n                  var target_geoPoint = new mapray.GeoPoint(cross_geoPoint.longitude, cross_geoPoint.latitude, cross_altitude);\n                  var target_pos = target_geoPoint.getAsGocs(GeoMath.createVector3());\n\n                  var camera = this._viewer.camera;\n                  const len_x = camera.view_to_gocs[12] - target_pos[0];\n                  const len_y = camera.view_to_gocs[13] - target_pos[1];\n                  const len_z = camera.view_to_gocs[14] - target_pos[2];\n                  const length = Math.sqrt(len_x*len_x + len_y*len_y + len_z*len_z);\n\n                  // URLã®çæ\n                  let new_hash = '';\n                  let lat, lon, alt, tilt, range, heading;\n                  if(this._update_url_hash_full_digits) {\n                    lat = cross_geoPoint.latitude;\n                    lon = cross_geoPoint.longitude;\n                    alt = cross_altitude;\n                    tilt = this._camera_parameter.pitch;\n                    range = length;\n                    heading = this._camera_parameter.yaw;\n                  } else {\n                    lat = cross_geoPoint.latitude.toFixed(10);\n                    lon = cross_geoPoint.longitude.toFixed(10);\n                    alt = cross_altitude.toFixed(5);\n                    tilt = this._camera_parameter.pitch.toFixed(5);\n                    range = length.toFixed(5);\n                    heading = this._camera_parameter.yaw.toFixed(5);\n                  }\n                  new_hash = `${lat}/${lon}/${alt}a/${tilt}t/${range}r/${heading}h`\n\n                  this._last_camera_parameter.latitude = this._camera_parameter.latitude;\n                  this._last_camera_parameter.longitude = this._camera_parameter.longitude;\n                  this._last_camera_parameter.height = this._camera_parameter.height;\n                  this._last_camera_parameter.pitch = this._camera_parameter.pitch;\n                  this._last_camera_parameter.yaw = this._camera_parameter.yaw;\n\n                  window.location.hash = new_hash;\n              }\n          }\n      }\n    }\n\n    /**\n     * @summary ã¯ãªããç¯å²ã®æ´æ°\n     *\n     * @private\n     * @memberof StandardUIViewer\n     */\n    _updateClipPlane()\n    {\n        // å°è¡¨é¢ã®æ¨é«\n        var elevation = this._viewer.getElevation( this._camera_parameter.latitude, this._camera_parameter.longitude );\n        var altitude = Math.max( this._camera_parameter.height - elevation, StandardUIViewer.MINIMUM_HEIGHT );\n\n        this._camera_parameter.near = Math.max( altitude * StandardUIViewer.NEAR_FACTOR, StandardUIViewer.MINIMUM_NEAR );\n        this._camera_parameter.far = Math.max( this._camera_parameter.near * StandardUIViewer.FAR_FACTOR, StandardUIViewer.MINIMUM_FAR );\n    }\n\n    /**\n     * @summary é«åº¦ã®è£æ­£ï¼å°è¡¨é¢ä»¥ä¸ã«ãªããªãããã«ããï¼\n     *\n     * @private\n     * @memberof StandardUIViewer\n     */\n    _correctAltitude()\n    {\n        var elevation = this._viewer.getElevation( this._camera_parameter.latitude, this._camera_parameter.longitude );\n        this._camera_parameter.height = Math.max( this._camera_parameter.height, elevation + StandardUIViewer.MINIMUM_HEIGHT );\n    }\n\n    /**\n     * @summary æä½ç³»ã®ã¤ãã³ãããªã»ãããã(å¬éé¢æ°)\n     *\n     * @memberof StandardUIViewer\n     */\n    resetOpEvent()\n    {\n        this._resetEventParameter();\n    }\n\n    /**\n     * @summary ãã©ã¼ã«ã¹ãå¤ããæã®ã¤ãã³ã(å¬éé¢æ°)\n     *\n     * @param {Event} event  ã¤ãã³ããã¼ã¿\n     * @memberof StandardUIViewer\n     */\n    onBlur( event )\n    {\n        this._resetEventParameter();\n    }\n\n    /**\n     * @summary ãã©ã¼ã«ã¹ãå¤ããæã®ã¤ãã³ã\n     *\n     * @private\n     * @param {Event} event  ã¤ãã³ããã¼ã¿\n     * @memberof StandardUIViewer\n     */\n    _onBlur( event )\n    {\n        this.onBlur( event );\n    }\n\n    /**\n     * @summary ãã¦ã¹ãæ¼ããæã®ã¤ãã³ã(å¬éé¢æ°ï¼\n     *\n     * @param {array} point è¦ç´ ä¸ã®åº§æ¨\n     * @param {MouseEvent} event  ãã¦ã¹ã¤ãã³ããã¼ã¿\n     * @memberof StandardUIViewer\n     */\n    onMouseDown( point, event )\n    {\n        this._mouse_down_position = point;\n        this._pre_mouse_position = point;\n\n        // å·¦ãã¿ã³\n        if ( event.button === 0 )\n        {\n            if ( event.shiftKey )\n            {\n                this._operation_mode = StandardUIViewer.OperationMode.ROTATE;\n\n                var camera = this._viewer.camera;\n                var ray = camera.getCanvasRay( this._mouse_down_position );\n                this._rotate_center = this._viewer.getRayIntersection( ray );\n            }\n            else if ( event.ctrlKey )\n            {\n                this._operation_mode = StandardUIViewer.OperationMode.FREE_ROTATE;\n            }\n            else\n            {\n                this._operation_mode = StandardUIViewer.OperationMode.TRANSLATE;\n            }\n        }\n        // ä¸­ãã¿ã³\n        else if ( event.button === 1 )\n        {\n            this._operation_mode = StandardUIViewer.OperationMode.ROTATE;\n\n            var camera = this._viewer.camera;\n            var ray = camera.getCanvasRay( this._mouse_down_position );\n            this._rotate_center = this._viewer.getRayIntersection( ray );\n        }\n        // å³ãã¿ã³\n        else if ( event.button === 2 )\n        {\n            this._operation_mode = (\n                event.shiftKey ? StandardUIViewer.OperationMode.HEIGHT_TRANSLATE:\n                    StandardUIViewer.OperationMode.EYE_TRANSLATE\n            );\n        }\n    }\n\n    /**\n     * @summary ãã¦ã¹ãæ¼ããæã®ã¤ãã³ã\n     *\n     * @private\n     * @param {MouseEvent} event  ãã¦ã¹ã¤ãã³ããã¼ã¿\n     * @memberof StandardUIViewer\n     */\n    _onMouseDown( event )\n    {\n        const point = this._mousePos( this._viewer._canvas_element, event );\n        this.onMouseDown( point, event );\n    }\n\n    /**\n     * @summary ãã¦ã¹ãåãããæã®ã¤ãã³ãï¼å¬ééæ°ï¼\n     *\n     * @param {array} point è¦ç´ ä¸ã®åº§æ¨\n     * @param {MouseEvent} event  ãã¦ã¹ã¤ãã³ããã¼ã¿\n     * @memberof StandardUIViewer\n     */\n    onMouseMove( point, event )\n    {\n        var mouse_position = point;\n\n        //ãå¹³è¡ç§»å\n        if ( this._operation_mode === StandardUIViewer.OperationMode.TRANSLATE )\n        {\n            this._translate_drag[0] += mouse_position[0] - this._pre_mouse_position[0];\n            this._translate_drag[1] += mouse_position[1] - this._pre_mouse_position[1];\n        }\n        //ãåè»¢ç§»å\n        else if ( this._operation_mode === StandardUIViewer.OperationMode.ROTATE )\n        {\n            this._rotate_drag[0] += mouse_position[0] - this._pre_mouse_position[0];\n            this._rotate_drag[1] += mouse_position[1] - this._pre_mouse_position[1];\n        }\n        else if ( this._operation_mode === StandardUIViewer.OperationMode.FREE_ROTATE )\n        {\n            this._free_rotate_drag[0] += mouse_position[0] - this._pre_mouse_position[0];\n            this._free_rotate_drag[1] += mouse_position[1] - this._pre_mouse_position[1];\n        }\n        // é«åº¦å¤æ´\n        else if ( this._operation_mode === StandardUIViewer.OperationMode.HEIGHT_TRANSLATE )\n        {\n            // æ¨ªæ¹åã¯å¹³è¡ç§»åãã\n            this._translate_drag[0] += mouse_position[0] - this._pre_mouse_position[0];\n            this._height_drag[1] += mouse_position[1] - this._pre_mouse_position[1];\n        }\n        else if ( this._operation_mode === StandardUIViewer.OperationMode.EYE_TRANSLATE )\n        {\n            this._translate_eye_drag[1] += mouse_position[1] - this._pre_mouse_position[1];\n        }\n\n        // ãã¦ã¹ä½ç½®ã®æ´æ°\n        this._pre_mouse_position = mouse_position;\n\n    }\n\n    /**\n     * @summary ãã¦ã¹ãåãããæã®ã¤ãã³ã\n     *\n     * @private\n     * @param {MouseEvent} event  ãã¦ã¹ã¤ãã³ããã¼ã¿\n     * @memberof StandardUIViewer\n     */\n    _onMouseMove( event )\n    {\n        const point = this._mousePos( this._viewer._canvas_element, event );\n        this.onMouseMove( point, event );\n    }\n\n    /**\n     * @summary ãã¦ã¹ãä¸ããæã®ã¤ãã³ãï¼å¬éé¢æ°ï¼\n     *\n     * @param {array} point è¦ç´ ä¸ã®åº§æ¨\n     * @param {MouseEvent} event  ãã¦ã¹ã¤ãã³ããã¼ã¿\n     * @memberof StandardUIViewer\n     */\n    onMouseUp( point, event )\n    {\n        this._resetEventParameter();\n    }\n\n    /**\n     * @summary ãã¦ã¹ãä¸ããæã®ã¤ãã³ã\n     *\n     * @private\n     * @param {MouseEvent} event  ãã¦ã¹ã¤ãã³ããã¼ã¿\n     * @memberof StandardUIViewer\n     */\n    _onMouseUp( event )\n    {\n        const point = this._mousePos( this._viewer._canvas_element, event );\n        this.onMouseUp( point, event );\n    }\n\n    /**\n     * @summary ãã¦ã¹ãã¤ã¼ã«ãåãããæã®ã¤ãã³ã\n     *\n     * @param {array} point è¦ç´ ä¸ã®åº§æ¨\n     * @param {MouseWheelEvent} event\n     * @memberof StandardUIViewer\n     */\n    onMouseWheel( point, event )\n    {\n        event.preventDefault();\n\n        if (this._viewerCameraMode != StandardUIViewer.CameraMode.CAMERA_FREE) {\n            return;\n        }\n\n        this._mouse_down_position = point;\n\n        var zoom = 0;\n\n        zoom = -1 * Math.sign( event.deltaY ) * Math.ceil( Math.abs( event.deltaY ) / 100 );\n\n        this._zoom_wheel += zoom;\n    }\n\n    /**\n     * @summary ãã¦ã¹ãã¤ã¼ã«ãåãããæã®ã¤ãã³ã\n     *\n     * @private\n     * @param {MouseWheelEvent} event\n     * @memberof StandardUIViewer\n     */\n    _onMouseWheel( event )\n    {\n        const point = this._mousePos( this._viewer._canvas_element, event );\n        this.onMouseWheel( point, event );\n    }\n\n    /**\n     * @summary ã­ã¼ãæ¼ããæã®ã¤ãã³ã(å¬éé¢æ°)\n     *\n     * @param {KeyboardEvent} event\n     * @memberof StandardUIViewer\n     */\n    onKeyDown( event )\n    {\n        switch( event.key )\n        {\n            // [c] ç»è§ã®æ¡å¤§\n            case \"c\":\n            case \"C\":\n                this._operation_mode = StandardUIViewer.OperationMode.CHANGE_FOVY;\n                this._fovy_key = 1;\n                break;\n\n            // [z] ç»è§ã®ç¸®å°\n            case \"z\":\n            case \"Z\":\n                this._operation_mode = StandardUIViewer.OperationMode.CHANGE_FOVY;\n                this._fovy_key = -1;\n                break;\n\n            // [x] ç»è§ã®åæå\n            case \"x\":\n            case \"X\":\n                this._camera_parameter.fov = this._default_fov\n                break;\n\n            // â åé²\n            case \"ArrowUp\":\n                event.preventDefault();\n                // ç»é¢ä¸­å¤®ãç§»ååºæºã«ãã\n                var canvas = this._viewer.canvas_element;\n                var mouse_position = [canvas.width / 2, canvas.height / 2];\n                this._mouse_down_position = mouse_position;\n\n                this._translate_drag[1] = 100;\n                this._key_mode = true;\n                break;\n\n            // â å¾é\n            case \"ArrowDown\":\n                event.preventDefault();\n                // ç»é¢ä¸­å¤®ãç§»ååºæºã«ãã\n                var canvas = this._viewer.canvas_element;\n                var mouse_position = [canvas.width / 2, canvas.height / 2];\n                this._mouse_down_position = mouse_position;\n\n                this._translate_drag[1] = -100;\n                this._key_mode = true;\n                break;\n\n            // â å·¦åè»¢\n            case \"ArrowLeft\":\n                event.preventDefault();\n                // ç»é¢ä¸­å¤®ãç§»ååºæºã«ãã\n                this._free_rotate_drag[0] = 100;\n                this._key_mode = true;\n                break;\n\n            case \"ArrowRight\":\n                // ç»é¢ä¸­å¤®ãç§»ååºæºã«ãã\n                event.preventDefault();\n                this._free_rotate_drag[0] = -100;\n                this._key_mode = true;\n                break;\n        }\n    }\n\n    /**\n     * @summary ã­ã¼ãæ¼ããæã®ã¤ãã³ã\n     *\n     * @private\n     * @param {KeyboardEvent} event\n     * @memberof StandardUIViewer\n     */\n    _onKeyDown( event )\n    {\n        this.onKeyDown( event );\n    }\n\n    /**\n     * @summary ã­ã¼ãæããæã®ã¤ãã³ã(å¬éé¢æ°ï¼\n     *\n     * @param {KeyboardEvent} event\n     * @memberof StandardUIViewer\n     */\n    onKeyUp( event )\n    {\n        switch ( event.key )\n        {\n            // [c] ç»è§ã®æ¡å¤§\n            case \"c\":\n            case \"C\":\n                this._operation_mode = StandardUIViewer.OperationMode.NONE;\n                this._fovy_key = 0;\n                break;\n\n            // [z] ç»è§ã®ç¸®å°\n            case \"z\":\n            case \"Z\":\n                this._operation_mode = StandardUIViewer.OperationMode.NONE;\n                this._fovy_key = 0;\n                break;\n\n            // â åé²\n            case \"ArrowUp\":\n                this._operation_mode = StandardUIViewer.OperationMode.NONE;\n                this._translate_drag[1] = 0;\n\n                this._key_mode = false;\n                break;\n\n            // â å¾é\n            case \"ArrowDown\":\n                this._operation_mode = StandardUIViewer.OperationMode.NONE;\n                this._translate_drag[1] = 0;\n\n                this._key_mode = false;\n                break;\n\n            // â å·¦åè»¢\n            case \"ArrowLeft\":\n                this._operation_mode = StandardUIViewer.OperationMode.NONE;\n                this._free_rotate_drag[0] = 0;\n\n                this._key_mode = false;\n                break;\n\n            case \"ArrowRight\":\n                this._operation_mode = StandardUIViewer.OperationMode.NONE;\n                this._free_rotate_drag[0] = 0;\n\n                this._key_mode = false;\n                break;\n        }\n    }\n\n    /**\n     * @summary ã­ã¼ãæããæã®ã¤ãã³ã\n     *\n     * @private\n     * @param {KeyboardEvent} event\n     * @memberof StandardUIViewer\n     */\n    _onKeyUp( event )\n    {\n        this.onKeyUp( event );\n    }\n\n    /**\n     * @summary ã¤ãã³ããã©ã¡ã¼ã¿ã®åæå\n     *\n     * @private\n     * @memberof StandardUIViewer\n     */\n    _resetEventParameter()\n    {\n        this._translate_drag[0] = 0;\n        this._translate_drag[1] = 0;\n\n        this._rotate_drag[0] = 0;\n        this._rotate_drag[1] = 0;\n\n        this._free_rotate_drag[0] = 0;\n        this._free_rotate_drag[1] = 0;\n\n        this._height_drag[0] = 0;\n        this._height_drag[1] = 0;\n\n        this._operation_mode = StandardUIViewer.OperationMode.NONE;\n    }\n\n    /**\n     * @ã«ã¡ã©ã®å¹³è¡ç§»å\n     *\n     * @private\n     * @memberof StandardUIViewer\n     */\n    _translation( delta_time )\n    {\n        if ( this._translate_drag[0] != 0 || this._translate_drag[1] != 0 )\n        {\n            if ( this._key_mode )\n            {\n                this._translate_drag[0] *= delta_time;\n                this._translate_drag[1] *= delta_time;\n            }\n\n            var camera = this._viewer.camera;\n\n            var ray = camera.getCanvasRay( this._mouse_down_position );\n            var start_position = this._viewer.getRayIntersection( ray );\n\n            var end_mouse_position = [this._mouse_down_position[0] + this._translate_drag[0], this._mouse_down_position[1] + this._translate_drag[1]];\n            ray = camera.getCanvasRay( end_mouse_position );\n            var end_position = this._viewer.getRayIntersection( ray );\n\n            if ( start_position == null || end_position == null )\n            {\n                return;\n            }\n\n            var start_spherical_position = new mapray.GeoPoint();\n            start_spherical_position.setFromGocs( start_position );\n\n            var end_spherical_position = new mapray.GeoPoint();\n            end_spherical_position.setFromGocs( end_position );\n\n            // çã¨ã¬ã¤ã®äº¤ç¹è¨ç®\n            var variable_A = Math.pow( this._getVectorLength( ray.direction ), 2 );\n            var variable_B = 2 * GeoMath.dot3( ray.position, ray.direction );\n            var variable_C = Math.pow( this._getVectorLength( ray.position ), 2 ) - Math.pow( start_spherical_position.altitude + GeoMath.EARTH_RADIUS, 2 );\n            var variable_D = variable_B * variable_B - 4 * variable_A * variable_C;\n\n            // ã«ã¡ã©ããé¸æããå ´æã®é«åº¦ãé«ããäº¤ç¹ãåããªãå ´åã¯è£æ­£ããªã\n            if ( start_spherical_position.altitude < this._camera_parameter.height &&\n                 end_spherical_position.altitude < this._camera_parameter.height &&\n                 variable_D > 0 )\n            {\n                var variable_t1 = ( -variable_B + Math.sqrt( variable_D ) ) / 2 * variable_A;\n                var variable_t2 = ( -variable_B - Math.sqrt( variable_D ) ) / 2 * variable_A;\n\n                var variable_t = Math.min( variable_t1, variable_t2 )\n\n                end_position[0] = ray.position[0] + variable_t * ray.direction[0];\n                end_position[1] = ray.position[1] + variable_t * ray.direction[1];\n                end_position[2] = ray.position[2] + variable_t * ray.direction[2];\n\n                end_spherical_position.setFromGocs( end_position );\n            }\n\n            var delta_latitude = end_spherical_position.latitude - start_spherical_position.latitude;\n            var delta_longitude = end_spherical_position.longitude - start_spherical_position.longitude;\n\n            this._camera_parameter.latitude -= delta_latitude;\n            this._camera_parameter.longitude -= delta_longitude;\n\n            this._translate_drag[0] = 0;\n            this._translate_drag[1] = 0;\n\n            // ãã¦ã¹ãã¦ã³ã®ä½ç½®ãæ´æ°ãã\n            this._mouse_down_position = this._pre_mouse_position\n        }\n    }\n\n    /**\n     * @summary ã«ã¡ã©ã®åè»¢ï¼åè»¢ä¸­å¿æå®ï¼\n     *\n     * @private\n     * @memberof StandardUIViewer\n     */\n    _rotation()\n    {\n        if ( this._rotate_drag[0] != 0 || this._rotate_drag[1] != 0 )\n        {\n            if (this._rotate_center == null)\n            {\n                this._rotate_drag[0] = 0;\n                this._rotate_drag[1] = 0;\n\n                return;\n            }\n\n            var camera = this._viewer.camera;\n\n            var camera_direction = GeoMath.createVector3();\n            camera_direction[0] = camera.view_to_gocs[12] - this._rotate_center[0];\n            camera_direction[1] = camera.view_to_gocs[13] - this._rotate_center[1];\n            camera_direction[2] = camera.view_to_gocs[14] - this._rotate_center[2];\n\n            var center_geoPoint = new mapray.GeoPoint();\n            center_geoPoint.setFromGocs( this._rotate_center );\n            var center_matrix = center_geoPoint.getMlocsToGocsMatrix( GeoMath.createMatrix() );\n\n            var rotate_axis = GeoMath.createVector3();\n            rotate_axis[0] = center_matrix[8];\n            rotate_axis[1] = center_matrix[9];\n            rotate_axis[2] = center_matrix[10];\n\n            rotate_axis = GeoMath.normalize3( rotate_axis, GeoMath.createVector3() );\n\n            // ã«ã¡ã©èªèº«ãåè»¢\n            var yaw_angle = -this._rotate_drag[0] / 10;\n            var pitch_angle = -this._rotate_drag[1] / 10;\n\n            var rotated_direction = this._rotateVector( camera_direction, rotate_axis, yaw_angle );\n\n            var after_pitch = GeoMath.clamp( this._camera_parameter.pitch + pitch_angle, 0, 90 );\n\n            if ( after_pitch != this._camera_parameter.pitch )\n            {\n                rotate_axis[0] = camera.view_to_gocs[0];\n                rotate_axis[1] = camera.view_to_gocs[1];\n                rotate_axis[2] = camera.view_to_gocs[2];\n\n                rotated_direction = this._rotateVector( rotated_direction, rotate_axis, pitch_angle );\n            }\n\n            var new_position = GeoMath.createVector3();\n            new_position[0] = this._rotate_center[0] + rotated_direction[0];\n            new_position[1] = this._rotate_center[1] + rotated_direction[1];\n            new_position[2] = this._rotate_center[2] + rotated_direction[2];\n\n            var new_spherical_position = new mapray.GeoPoint();\n            new_spherical_position.setFromGocs( new_position );\n\n            this._camera_parameter.latitude = new_spherical_position.latitude;\n            this._camera_parameter.longitude = new_spherical_position.longitude;\n            this._camera_parameter.height = new_spherical_position.altitude;\n            this._camera_parameter.yaw += yaw_angle;\n            this._camera_parameter.pitch = after_pitch;\n\n            this._rotate_drag[0] = 0;\n            this._rotate_drag[1] = 0;\n        }\n    }\n\n    /**\n     * @summary ã«ã¡ã©ã®åè»¢ï¼èªç±åè»¢ï¼\n     *\n     * @private\n     * @memberof StandardUIViewer\n     */\n    _freeRotation( delta_time )\n    {\n        if ( this._free_rotate_drag[0] != 0 || this._free_rotate_drag[1] != 0 )\n        {\n            if ( this._key_mode )\n            {\n                this._free_rotate_drag[0] *= delta_time;\n                this._free_rotate_drag[1] *= delta_time;\n            }\n\n            // ã«ã¡ã©èªèº«ãåè»¢\n            var yaw_angle = this._free_rotate_drag[0] / 10;\n            var pitch_angle = this._free_rotate_drag[1] / 10;\n\n            var after_pitch = GeoMath.clamp( this._camera_parameter.pitch + pitch_angle, 0, 90 );\n\n            this._camera_parameter.yaw += yaw_angle;\n            this._camera_parameter.pitch = after_pitch;\n\n            this._free_rotate_drag[0] = 0;\n            this._free_rotate_drag[1] = 0;\n        }\n    }\n\n    /**\n     * @summary é«åº¦å¤æ´\n     *\n     * @private\n     * @memberof StandardUIViewer\n     */\n    _translationOfHeight()\n    {\n        if ( this._height_drag[0] != 0 || this._height_drag[1] != 0 )\n        {\n            var height_drag = this._height_drag[1];\n\n            var factor = GeoMath.gudermannian( ( this._camera_parameter.height - 50000 ) / 10000 ) + Math.PI / 2;\n            var delta_height = height_drag * 100 * factor;\n\n            this._camera_parameter.height += delta_height;\n\n            this._height_drag[0] = 0;\n            this._height_drag[1] = 0;\n        }\n    }\n\n    /**\n     * @summary è¦ç·æ¹åã¸ã®ç§»å\n     *\n     * @private\n     * @memberof StandardUIViewer\n     */\n    _translationOfEyeDirection()\n    {\n        let zoom = 0;\n        if ( this._zoom_wheel != 0 )\n        {\n            zoom = Math.pow(0.9, this._zoom_wheel);\n            this._zoom_wheel = 0;\n        }\n        else if ( this._translate_eye_drag[1] != 0 ) {\n            zoom = Math.pow(0.995, this._translate_eye_drag[1]);\n            this._translate_eye_drag[1] = 0;\n        }\n\n        if ( zoom !== 0 )\n        {\n            var camera = this._viewer.camera;\n\n            // ç§»åä¸­å¿\n            var ray = camera.getCanvasRay( this._mouse_down_position );\n            var translation_center = this._viewer.getRayIntersection( ray );\n\n            if (translation_center == null)\n            {\n                return;\n            }\n\n            var center_spherical_position = new mapray.GeoPoint();\n            center_spherical_position.setFromGocs( translation_center );\n\n            var translation_vector = GeoMath.createVector3();\n            translation_vector[0] = (translation_center[0] - camera.view_to_gocs[12]) * zoom;\n            translation_vector[1] = (translation_center[1] - camera.view_to_gocs[13]) * zoom;\n            translation_vector[2] = (translation_center[2] - camera.view_to_gocs[14]) * zoom;\n\n            var new_camera_gocs_position = GeoMath.createVector3();\n            new_camera_gocs_position[0] = translation_center[0] - translation_vector[0];\n            new_camera_gocs_position[1] = translation_center[1] - translation_vector[1];\n            new_camera_gocs_position[2] = translation_center[2] - translation_vector[2];\n\n            var new_camera_spherical_position = new mapray.GeoPoint();\n            new_camera_spherical_position.setFromGocs( new_camera_gocs_position );\n            var elevation = this._viewer.getElevation( new_camera_spherical_position.latitude, new_camera_spherical_position.longitude );\n            if (elevation + StandardUIViewer.MINIMUM_HEIGHT > new_camera_spherical_position.altitude) {\n                // z_over ã ãé«ãä½ç½®ã«ãªãããã«ã«ã¡ã©æ¹åã«ç§»åãã\n                const z_over = new_camera_spherical_position.altitude - (elevation + StandardUIViewer.MINIMUM_HEIGHT);\n                const up = center_spherical_position.getUpwardVector(GeoMath.createVector3());\n                const translation_vector_length = Math.sqrt(\n                  translation_vector[0] * translation_vector[0] +\n                  translation_vector[1] * translation_vector[1] +\n                  translation_vector[2] * translation_vector[2]\n                );\n                const up_dot_dir = GeoMath.dot3(translation_vector, up) / translation_vector_length;\n                GeoMath.scale3(1 - (z_over / up_dot_dir / translation_vector_length), translation_vector, translation_vector);\n\n                new_camera_gocs_position[0] = translation_center[0] - translation_vector[0];\n                new_camera_gocs_position[1] = translation_center[1] - translation_vector[1];\n                new_camera_gocs_position[2] = translation_center[2] - translation_vector[2];\n                new_camera_spherical_position.setFromGocs( new_camera_gocs_position );\n            }\n            this._camera_parameter.latitude = new_camera_spherical_position.latitude;\n            this._camera_parameter.longitude = new_camera_spherical_position.longitude;\n            this._camera_parameter.height = new_camera_spherical_position.altitude;\n\n            this._zoom_wheel = 0;\n        }\n    }\n\n    /**\n     * @summary ç»è§å¤æ´\n     *\n     * @private\n     * @memberof StandardUIViewer\n     */\n    _changeFovy()\n    {\n        var tanÎ¸h = Math.tan( 0.5 * this._camera_parameter.fov * GeoMath.DEGREE );\n        var Î¸ = 2 * Math.atan( tanÎ¸h * Math.pow( StandardUIViewer.FOV_FACTOR, -this._fovy_key ) );\n        var range = StandardUIViewer.FOV_RANGE;\n        this._camera_parameter.fov = GeoMath.clamp( Î¸ / GeoMath.DEGREE, range.min, range.max );\n\n        this._fovy_key = 0;\n    }\n\n    /**\n     * @ã«ã¡ã©ä½ç½®ã®è¨­å®\n     *\n     * @param {object}  position            ã«ã¡ã©ä½ç½®\n     * @param {number}  position.latitude   ç·¯åº¦\n     * @param {number}  position.longitude  çµåº¦\n     * @param {number}  position.height     é«ã\n     * @memberof StandardUIViewer\n     */\n    setCameraPosition( position )\n    {\n        this._camera_parameter.latitude = position.latitude;\n        this._camera_parameter.longitude = position.longitude;\n        this._camera_parameter.height = position.height;\n\n        // æä½é«åº¦è£æ­£\n        if ( this._camera_parameter.height < StandardUIViewer.MINIMUM_HEIGHT )\n        {\n            this._camera_parameter.height = StandardUIViewer.MINIMUM_HEIGHT\n        }\n    }\n\n    /**\n     * @é¾å¤ã®ããåä¸å¤å®\n     *\n     * @param {number}  value1 å¤1\n     * @param {number}  value1 å¤2\n     * @param {number}  threshold é¾å¤\n     * @returns {boolean}  å¤å®çµæ\n     * @private\n     * @memberof StandardUIViewer\n     */\n    _isSame(value1, value2, threshold)\n    {\n        let threshold_value = threshold || 0.000001;\n        if((Math.abs(value1 - value2)) < threshold_value) {\n            return true;\n        }\n        return false;\n    }\n\n    /**\n     * @æ³¨è¦ç¹ã®è¨­å®\n     *\n     * @param {object}  position            ã«ã¡ã©ä½ç½®\n     * @param {number}  position.latitude   ç·¯åº¦\n     * @param {number}  position.longitude  çµåº¦\n     * @param {number}  position.height     é«ã\n     * @memberof StandardUIViewer\n     */\n    setLookAtPosition( position, yaw )\n    {\n        if( this._isSame(this._camera_parameter.longitude, position.longitude) &&\n            this._isSame(this._camera_parameter.latitude, position.latitude) ) {\n            this._camera_parameter.yaw = yaw||0;\n            this._camera_parameter.pitch = 0;\n            return;\n        }\n\n        // ç¾å¨ã®è¦ç·æ¹åãåå¾\n        var current_camera_geoPoint = new GeoPoint( this._camera_parameter.longitude, this._camera_parameter.latitude, this._camera_parameter.height );\n        var current_camera_matrix = current_camera_geoPoint.getMlocsToGocsMatrix( GeoMath.createMatrix() );\n\n        var current_y_direction = GeoMath.createVector3();\n        current_y_direction[0] = current_camera_matrix[4];\n        current_y_direction[1] = current_camera_matrix[5];\n        current_y_direction[2] = current_camera_matrix[6];\n\n        var target_camera_geoPoint = new GeoPoint( position.longitude, position.latitude, position.height );\n        var target_camera_matrix = target_camera_geoPoint.getMlocsToGocsMatrix( GeoMath.createMatrix() );\n        var target_camera_direction = GeoMath.createVector3();\n        target_camera_direction[0] = target_camera_matrix[12] - current_camera_matrix[12];\n        target_camera_direction[1] = target_camera_matrix[13] - current_camera_matrix[13];\n        target_camera_direction[2] = target_camera_matrix[14] - current_camera_matrix[14];\n\n        current_y_direction = GeoMath.normalize3( current_y_direction, GeoMath.createVector3() );\n        target_camera_direction = GeoMath.normalize3( target_camera_direction, GeoMath.createVector3() );\n\n        var rotate_axis = GeoMath.createVector3();\n        rotate_axis[0] = current_camera_matrix[8];\n        rotate_axis[1] = current_camera_matrix[9];\n        rotate_axis[2] = current_camera_matrix[10];\n\n        var yaw_angle = this._calculateAngle( rotate_axis, current_y_direction, target_camera_direction );\n        this._camera_parameter.yaw = yaw_angle;\n\n        var current_camera_direction = GeoMath.createVector3();\n        current_camera_direction[0] = current_camera_matrix[8];\n        current_camera_direction[1] = current_camera_matrix[9];\n        current_camera_direction[2] = current_camera_matrix[10];\n\n        var pitch_axis = GeoMath.createVector3();\n        pitch_axis[0] = current_camera_matrix[0];\n        pitch_axis[1] = current_camera_matrix[1];\n        pitch_axis[2] = current_camera_matrix[2];\n        rotate_axis = this._rotateVector( pitch_axis, rotate_axis, yaw_angle );\n\n        target_camera_direction[0] = -1 * target_camera_direction[0];\n        target_camera_direction[1] = -1 * target_camera_direction[1];\n        target_camera_direction[2] = -1 * target_camera_direction[2];\n\n        this._camera_parameter.pitch = GeoMath.clamp( Math.abs( this._calculateAngle( rotate_axis, current_camera_direction, target_camera_direction ) ), 0, 90 );\n    }\n\n    /**\n     * @summary ã«ã¡ã©ãã©ã¡ã¼ã¿ã®è¨­å®\n     *\n     * @param {object}  parameter               ã«ã¡ã©ãã©ã¡ã¼ã¿\n     * @param {number}  parameter.fov           ç»è§\n     * @param {number}  parameter.near          è¿æ¥å¹³é¢è·é¢\n     * @param {number}  parameter.far           é æ¹å¹³é¢è·é¢\n     * @param {number}  parameter.speed_factor  ç§»åéåº¦ä¿æ°\n     * @memberof StandardUIViewer\n     */\n    setCameraParameter( parameter )\n    {\n        if ( parameter.fov ) {\n            this._camera_parameter.fov = parameter.fov;\n            this._default_fov = parameter.fov;\n        }\n\n        if ( parameter.near ) { this._camera_parameter.near = parameter.near; }\n        if ( parameter.far ) { this._camera_parameter.far = parameter.far; }\n        if ( parameter.speed_factor ) { this._camera_parameter.speed_factor = parameter.speed_factor; }\n    }\n\n    /**\n     * @summary ã¬ã¤ã¤ã®åå¾\n     *\n     * @param {number} index    ã¬ã¤ã¤çªå·\n     * @returns {mapray.Layer}  ã¬ã¤ã¤\n     * @memberof StandardUIViewer\n     */\n    getLayer( index )\n    {\n        return this._viewer.layers.getLayer( index );\n    }\n\n    /**\n     * @summary ã¬ã¤ã¤æ°ã®åå¾\n     *\n     * @returns {number}    ã¬ã¤ã¤æ°\n     * @memberof StandardUIViewer\n     */\n    getLayerNum()\n    {\n        return this._viewer.layers.num_layers();\n    }\n\n    /**\n     * @summary ã¬ã¤ã¤ã®è¿½å ï¼æ«å°¾ï¼\n     *\n     * @param {object}               layer                  ä½æããã¬ã¤ã¤ã®ãã­ããã£\n     * @param {mapray.ImageProvider} layer.image_provider   ç»åãã­ãã¤ã\n     * @param {boolean}              layer.visibility       å¯è¦æ§ãã©ã°\n     * @param {number}               layer.opacity          ä¸éæåº¦\n     * @memberof StandardUIViewer\n     */\n    addLayer( layer )\n    {\n        this._viewer.layers.add( layer );\n    }\n\n    /**\n     * @summary ã¬ã¤ã¤ã®è¿½å ï¼ä»»æï¼\n     *\n     * @param {number}               index                  æ¿å¥å ´æ\n     * @param {object}               layer                  ä½æããã¬ã¤ã¤ã®ãã­ããã£\n     * @param {mapray.ImageProvider} layer.image_provider   ç»åãã­ãã¤ã\n     * @param {boolean}              layer.visibility       å¯è¦æ§ãã©ã°\n     * @param {number}               layer.opacity          ä¸éæåº¦\n     * @memberof StandardUIViewer\n     */\n    insertLayer( index, layer )\n    {\n        this._viewer.layers.insert( index, layer );\n    }\n\n    /**\n     * @summary ã¬ã¤ã¤ã®åé¤\n     *\n     * @param {number} index    ã¬ã¤ã¤çªå·\n     * @memberof StandardUIViewer\n     */\n    removeLayer( index )\n    {\n        this._viewer.layers.remove( index );\n    }\n\n    /**\n     * @summary ã¬ã¤ã¤ã®å¨åé¤\n     *\n     * @memberof StandardUIViewer\n     */\n    clearLayer()\n    {\n        this._viewer.layers.clear();\n    }\n\n    /**\n     * @summary ã¨ã³ãã£ãã£ã®åå¾\n     *\n     * @param {number} index     ã¨ã³ãã£ãã£çªå·\n     * @returns {mapray.Entity}  ã¨ã³ãã£ãã£\n     * @memberof StandardUIViewer\n     */\n    getEntity( index )\n    {\n        return this._viewer.scene.getEntity( index );\n    }\n\n    /**\n     * @summary ã¨ã³ãã£ãã£æ°ã®åå¾\n     *\n     * @returns {number}    ã¨ã³ãã£ãã£æ°\n     * @memberof StandardUIViewer\n     */\n    getEntityNum()\n    {\n        return this._viewer.scene.num_entities();\n    }\n\n    /**\n     * @summary ã¨ã³ãã£ãã£ã®è¿½å \n     *\n     * @param {mapray.Entity} entity    ã¨ã³ãã£ãã£\n     * @memberof StandardUIViewer\n     */\n    addEntity( entity )\n    {\n        this._viewer.scene.addEntity( entity );\n    }\n\n    /**\n     * @summary ã¨ã³ãã£ãã£ã®åé¤\n     *\n     * @param {mapray.Entity} entity    ã¨ã³ãã£ãã£\n     * @memberof StandardUIViewer\n     */\n    removeEntity( entity )\n    {\n        this._viewer.scene.removeEntity( entity );\n    }\n\n    /**\n     * @summary ã¨ã³ãã£ãã£ã®å¨åé¤\n     *\n     * @memberof StandardUIViewer\n     */\n    clearEntity()\n    {\n        this._viewer.scene.clearEntity();\n    }\n\n    /**\n     * @summary 3æ¬¡åãã¯ãã«ã®é·ãã®ç®åº\n     *\n     * @private\n     * @param {mapray.Vector3} vector   å¯¾è±¡ãã¯ãã«\n     * @returns {number}                é·ã\n     * @memberof StandardUIViewer\n     */\n    _getVectorLength( vector )\n    {\n        return Math.sqrt( Math.pow( vector[0], 2 ) + Math.pow( vector[1], 2 ) + Math.pow( vector[2], 2 ) );\n    }\n\n    /**\n     * @summary 3æ¬¡åãã¯ãã«ã®ä»»æè»¸ã®åè»¢\n     *\n     * @private\n     * @param {mapray.Vector3} vector   å¯¾è±¡ãã¯ãã«\n     * @param {mapray.Vector3} axis     åè»¢è»¸\n     * @param {number}         angle    åè»¢è§åº¦ï¼deg.ï¼\n     * @returns {mapray.Vector3}        åè»¢å¾ãã¯ãã«\n     * @memberof StandardUIViewer\n     */\n    _rotateVector( vector, axis, angle )\n    {\n        var rotate_matrix = GeoMath.rotation_matrix( axis, angle, GeoMath.createMatrix() );\n\n        var target_vector = GeoMath.createVector3();\n        target_vector[0] = vector[0] * rotate_matrix[0] + vector[1] * rotate_matrix[4] + vector[2] * rotate_matrix[8] + rotate_matrix[12];\n        target_vector[1] = vector[0] * rotate_matrix[1] + vector[1] * rotate_matrix[5] + vector[2] * rotate_matrix[9] + rotate_matrix[13];\n        target_vector[2] = vector[0] * rotate_matrix[2] + vector[1] * rotate_matrix[6] + vector[2] * rotate_matrix[10] + rotate_matrix[14];\n\n        return target_vector;\n    }\n\n    /**\n     * @summary ä»»æè»¸åãã®åè»¢è§åº¦ã®ç®åº\n     *\n     * @private\n     * @param {mapray.Vector3} axis             åè»¢è»¸\n     * @param {mapray.Vector3} basis_vector     åºæºãã¯ãã«\n     * @param {mapray.Vector3} target_vector    ç®æ¨ãã¯ãã«\n     * @returns {number}                        åè»¢è§åº¦ï¼deg.ï¼\n     * @memberof StandardUIViewer\n     */\n    _calculateAngle( axis, basis_vector, target_vector )\n    {\n        var a_vector = GeoMath.createVector3();\n        var dot_value = GeoMath.dot3( axis, basis_vector );\n\n        for ( var i = 0; i < 3; i++ )\n        {\n            a_vector[i] = basis_vector[i] - dot_value * axis[i];\n        }\n\n        var b_vector = GeoMath.createVector3();\n        dot_value = GeoMath.dot3( axis, target_vector );\n\n        for ( var i = 0; i < 3; i++ )\n        {\n            b_vector[i] = target_vector[i] - dot_value * axis[i];\n        }\n\n        GeoMath.normalize3( a_vector, a_vector );\n        GeoMath.normalize3( b_vector, b_vector );\n\n        if ( Math.abs( this._getVectorLength( a_vector ) < 1.0e-6 ) ||\n            Math.abs( this._getVectorLength( b_vector ) < 1.0e-6 ) )\n        {\n            angle = 0;\n        }\n        else\n        {\n            var angle = Math.acos( GeoMath.clamp( GeoMath.dot3( a_vector, b_vector ) / ( this._getVectorLength( a_vector ) * this._getVectorLength( b_vector ) ), -1, 1 ) ) / GeoMath.DEGREE;\n\n            var cross_vector = GeoMath.cross3( a_vector, b_vector, GeoMath.createVector3() );\n            cross_vector = GeoMath.normalize3( cross_vector, GeoMath.createVector3() );\n\n            if ( GeoMath.dot3( axis, cross_vector ) < 0 )\n            {\n                angle *= -1;\n            }\n        }\n\n        return angle;\n    }\n\n    /**\n     * @summary è¦ç´ ä¸ã§ã®åº§æ¨ãåå¾\n     *\n     * @private\n     * @param {HTMLElement} el    HTMLElement\n     * @param {MouseEvent | window.TouchEvent | Touch} event  ã¤ãã³ããªãã¸ã§ã¯ã\n     * @returns {array} è¦ç´ (el)ã®ä¸ã§ã®åº§æ¨\n     * @memberof StandardUIViewer\n     */\n    _mousePos( el, event ) {\n        const rect = el.getBoundingClientRect();\n        return [\n            event.clientX - rect.left - el.clientLeft,\n            event.clientY - rect.top - el.clientTop\n        ];\n    };\n\n\n\n    /**\n     * @summary ï¼ç¹éã®ã«ã¡ã©ã¢ãã¡ã¼ã·ã§ã³\n     *\n     * @desc\n     * <p>æå®ããä½ç½®éã§ã«ã¡ã©ã¢ãã¡ã¼ã·ã§ã³ãè¡ã</p>\n     * <p> iscs_startã§æå®ããä½ç½®ããããã¯ç¾å¨ã®ã«ã¡ã©ã®ä½ç½®ããã</p>\n     * <p> iscs_endã§æå®ããä½ç½®ãã20kmåå´ãä¸æ¹åã«+20kmã®é«åº¦ã®ä½ç½®ããiscs_endãæ³¨è¦ç¹ã¨ããä½ç½®ã¨æ¹åã«</p>\n     * <p> timeã§æå®ãããç§æ°ã§ã«ã¡ã©ã¢ãã¡ã¼ã·ã§ã³ãè¡ãã</p>\n     * <p> éä¸­ãé«åº¦200kmã¾ã§ã«ã¡ã©ãä¸æãã</p>\n     *\n     * @param  {object} options å¼æ°ãªãã¸ã§ã¯ã\n     * @param  {number} options.time  ç§»åã¾ã§ã«ãããæéãç§ã§æå®\n     * @param  {mapray.GeoPoint} [options.iscs_start] ã¹ã¿ã¼ãä½ç½®. çç¥æã¯ç¾å¨ã®ã«ã¡ã©ä½ç½®\n     * @param  {mapray.GeoPoint} options.iscs_end  çµäºä½ç½®ã§ã®ã«ã¡ã©ã®æ³¨è¦ç¹ãtarget_clampãtrueã®å ´åã¯é«åº¦ãèªåè¨ç®\n     * @param  {boolean} [options.target_clamp]  çµäºä½ç½®ã§ã«ã¡ã©ã®æ³¨è¦ç¹ãiscs_endã®ç·¯åº¦çµåº¦ä½ç½®ç´ä¸ã®æ¨é«ã«ãããªãtrue çç¥æã¯true\n     * @param  {number} [options.end_altitude] æçµã«ã¡ã©ä½ç½®ã®é«ã(m) çç¥æã¯20000m\n     * @param  {number} [options.end_from_lookat] æçµã«ã¡ã©ä½ç½®ãåæ¹åã«æ³¨è¦ç¹ããã©ã®ä½ç½®ã«éç½®ããã(m) çç¥æã¯20000m\n     */\n    async startFlyCamera( options ) {\n        if( this._viewerCameraMode !== StandardUIViewer.CameraMode.CAMERA_FREE ) {\n            return;\n        }\n\n        if( !options.time || !options.iscs_end ) {\n            return;\n        }\n\n        // animation\n        // çµéæéã®åæå\n        this._flycamera_total_time = 0;\n        this._flycamera_target_time = options.time; // km/s\n\n        // create curve\n        const curves = this.createFlyCurve(options);\n        this._curve_move = curves.move;\n        this._curve_rotation = curves.rotation;\n\n        // EasyBindingBlock\n        this._setupAnimationBindingBlock();\n\n        // bind\n        this._animation.bind(\"position\", this._updater, this._curve_move);\n        this._animation.bind(\"orientation\", this._updater, this._curve_rotation);\n\n        this._update_url_hash_backup = this._update_url_hash;   // URLæ´æ°ãã©ã°ã®å¾é¿\n        this._update_url_hash = false;\n        this._viewerCameraMode = StandardUIViewer.CameraMode.CAMERA_FLY;\n\n        await new Promise((onSuccess, onError) => {\n            // onSuccess, onErrorã¯é¢æ°ã§ããonSuccessãå¼ã¶ã¾ã§ããã®ãã­ãã¹ã¯å®äºãã¾ããã\n            this._flycamera_on_success = onSuccess; // onSuccessãã°ã­ã¼ãã«å¤æ°ã«ç»é²\n        });\n    }\n\n    /**\n     * @summary KeyFrameã§ã®ä½ç½®ãåè»¢ãç®åº\n     *\n     * @param  {object} options å¼æ°ãªãã¸ã§ã¯ã\n     * @param  {number} options.time  ç§»åã¾ã§ã«ãããæéãç§ã§æå®\n     * @param  {mapray.GeoPoint} [options.iscs_start] ã¹ã¿ã¼ãä½ç½®. çç¥æã¯ç¾å¨ã®ã«ã¡ã©ä½ç½®\n     * @param  {mapray.GeoPoint} options.iscs_end  çµäºä½ç½®ã§ã®ã«ã¡ã©ã®æ³¨è¦ç¹ãtarget_clampãtrueã®å ´åã¯é«åº¦ãèªåè¨ç®\n     * @param  {boolean} [options.target_clamp]  çµäºä½ç½®ã§ã«ã¡ã©ã®æ³¨è¦ç¹ãiscs_endã®ç·¯åº¦çµåº¦ä½ç½®ç´ä¸ã®æ¨é«ã«ãããªãtrue çç¥æã¯true\n     * @param  {number} [options.end_altitude] æçµã«ã¡ã©ä½ç½®ã®é«ã(m) çç¥æã¯20000m\n     * @param  {number} [options.end_from_lookat] æçµã«ã¡ã©ä½ç½®ãåæ¹åã«æ³¨è¦ç¹ããã©ã®ä½ç½®ã«éç½®ããã(m) çç¥æã¯20000m\n     * @returns {object} fly_param ç®åºããæå ±\n     * @private\n     */\n    _calculateKeyPoint(options) {\n        // fly parameters\n        let fly_param = {\n            fly_iscs_start: options.iscs_start || null,\n            fly_iscs_end: null,\n            target_angle: 0,\n            start_top: null,\n            end_top: null,\n            heading: 0,\n            tilt: 0,\n            roll: 0\n        }\n\n        // start from current position\n        if (options.iscs_start == null) {\n            const view_to_gocs = this._viewer.camera.view_to_gocs;\n            fly_param.fly_iscs_start = new mapray.GeoPoint().setFromGocs(\n              mapray.GeoMath.createVector3([view_to_gocs[12], view_to_gocs[13], view_to_gocs[14]])\n            );\n        }\n\n        const TOP_ALTITUDE = 1200000; // meter\n        const end_from_lookat = options.end_from_lookat || 20000;\n        const end_altitude = options.end_altitude || 20000;\n        const target_clamp = options.target_clamp || true;\n\n        // [ã¢ãã¡ã¼ã·ã§ã³ã«å©ç¨ããéä¸­ã¨æçµã®ä½ç½®æå ±]\n        // ã«ã¡ã©ã®æçµå°ç¹ãè¨ç®\n        const to_camera = this._destination(options.iscs_end.longitude, options.iscs_end.latitude, end_from_lookat, 0);\n        fly_param.fly_iscs_end = new mapray.GeoPoint(to_camera.longitude, to_camera.latitude, end_altitude);\n        const getElevationFunc = this._viewer.getElevation.bind(this._viewer);\n        if (getElevationFunc) {\n            fly_param.fly_iscs_end.altitude += getElevationFunc(\n              fly_param.fly_iscs_end.latitude, fly_param.fly_iscs_end.longitude\n            );\n        }\n\n        // ã«ã¡ã©ã®æ³¨è¦ç¹ããæçµã¢ã³ã°ã«æ±ºå®\n        let cam_target = options.iscs_end;\n        if (getElevationFunc && target_clamp) {\n            cam_target.altitude = getElevationFunc(cam_target.latitude, cam_target.longitude);\n        }\n        fly_param.target_angle = this._getLookAtAngle(fly_param.fly_iscs_end, cam_target);\n\n        // éä¸­ç¹\n        const from = new mapray.GeoPoint(fly_param.fly_iscs_start.longitude, fly_param.fly_iscs_start.latitude, 0);\n        const to = new mapray.GeoPoint(options.iscs_end.longitude, options.iscs_end.latitude, 0);\n        let higest = from.getGeographicalDistance(to);\n        if (higest > TOP_ALTITUDE) {\n            higest = TOP_ALTITUDE;\n        }\n\n        fly_param.start_top = new mapray.GeoPoint(fly_param.fly_iscs_start.longitude, fly_param.fly_iscs_start.latitude, fly_param.fly_iscs_end.altitude + higest);\n        fly_param.end_top = new mapray.GeoPoint(fly_param.fly_iscs_end.longitude, fly_param.fly_iscs_end.latitude, fly_param.fly_iscs_end.altitude + higest);\n\n        fly_param.heading = this._camera_parameter.yaw;\n        fly_param.tilt = this._camera_parameter.pitch;\n        fly_param.roll = 0;\n\n        // set camrea parameter\n        this.setCameraParameter({near: 30, far:10000000});\n\n        return fly_param;\n    }\n\n    /**\n     * @summary curveã®ä½æ\n     * <p> this._curve_move ã¨ this._curve_rotation ãä½æ </p>\n     *\n     * @param  {object} options å¼æ°ãªãã¸ã§ã¯ã\n     * @param  {number} options.time  ç§»åã¾ã§ã«ãããæéãç§ã§æå®\n     * @param  {mapray.GeoPoint} [options.iscs_start] ã¹ã¿ã¼ãä½ç½®. çç¥æã¯ç¾å¨ã®ã«ã¡ã©ä½ç½®\n     * @param  {mapray.GeoPoint} options.iscs_end  çµäºä½ç½®ã§ã®ã«ã¡ã©ã®æ³¨è¦ç¹ãtarget_clampãtrueã®å ´åã¯é«åº¦ãèªåè¨ç®\n     * @param  {boolean} [options.target_clamp]  çµäºä½ç½®ã§ã«ã¡ã©ã®æ³¨è¦ç¹ãiscs_endã®ç·¯åº¦çµåº¦ä½ç½®ç´ä¸ã®æ¨é«ã«ãããªãtrue çç¥æã¯true\n     * @param  {number} [options.end_altitude] æçµã«ã¡ã©ä½ç½®ã®é«ã(m) çç¥æã¯20000m\n     * @param  {number} [options.end_from_lookat] æçµã«ã¡ã©ä½ç½®ãåæ¹åã«æ³¨è¦ç¹ããã©ã®ä½ç½®ã«éç½®ããã(m) çç¥æã¯20000m\n     * @returns {object} object.move object.rotation ç§»åç¨Curveã¨åè»¢ç¨curve\n     * @protected\n     */\n    createFlyCurve(options) {\n      // calculate key point\n      const fly_param = this._calculateKeyPoint(options);\n\n      let keyframes_m = [];\n      let keyframes_r = [];\n\n      let curve_move = new mapray.animation.KFLinearCurve(mapray.animation.Type.find(\"vector3\"));\n      let curve_rotation = new mapray.animation.KFLinearCurve(mapray.animation.Type.find(\"vector3\"));\n\n      const start = fly_param.fly_iscs_start;\n      const end = fly_param.fly_iscs_end;\n      const interval = this._flycamera_target_time/3.0;\n\n      let up_flag = true;\n      if (start.altitude > fly_param.start_top.altitude) {\n          up_flag = false;\n      }\n\n      keyframes_m.push(mapray.animation.Time.fromNumber(0));\n      keyframes_m.push(mapray.GeoMath.createVector3([start.longitude , start.latitude, start.altitude]));\n      if ( up_flag ) {\n        keyframes_m.push(mapray.animation.Time.fromNumber(interval));\n        keyframes_m.push(mapray.GeoMath.createVector3([fly_param.start_top.longitude, fly_param.start_top.latitude, fly_param.start_top.altitude]));\n        keyframes_m.push(mapray.animation.Time.fromNumber(interval*2));\n        keyframes_m.push(mapray.GeoMath.createVector3([fly_param.end_top.longitude, fly_param.end_top.latitude, fly_param.end_top.altitude]));\n      }\n      keyframes_m.push(mapray.animation.Time.fromNumber(this._flycamera_target_time));\n      keyframes_m.push(mapray.GeoMath.createVector3([end.longitude, end.latitude, end.altitude]));\n      curve_move.setKeyFrames(keyframes_m);\n\n      keyframes_r.push(mapray.animation.Time.fromNumber(0));\n      keyframes_r.push(mapray.GeoMath.createVector3([fly_param.heading, fly_param.tilt, fly_param.roll]));\n      if ( up_flag ) {\n        keyframes_r.push(mapray.animation.Time.fromNumber(interval));\n        keyframes_r.push(mapray.GeoMath.createVector3([fly_param.heading, 10, fly_param.roll]));\n        keyframes_r.push(mapray.animation.Time.fromNumber(interval*2));\n        keyframes_r.push(mapray.GeoMath.createVector3([fly_param.heading, 10, fly_param.roll]));\n      }\n      keyframes_r.push(mapray.animation.Time.fromNumber(this._flycamera_target_time));\n      keyframes_r.push(mapray.GeoMath.createVector3([fly_param.target_angle.heading, fly_param.target_angle.tilt*-1, this._roll]));\n      curve_rotation.setKeyFrames(keyframes_r);\n\n      return {move: curve_move, rotation: curve_rotation};\n    }\n\n\n    /**\n     * @summary updateå¦ç\n     * <p> Flyå®è¡ä¸­(this._viewerCameraMode ã StandardUIViewer.CameraMode.CAMERA_FLY ã®æ)ã¯ onUpdateFrame ããå¼ã³åºããã¾ã </p>\n     *\n     * @protected\n     */\n    updateFlyCamera( delta_time ) {\n      this._flycamera_total_time += delta_time;\n\n      this._updater.update(mapray.animation.Time.fromNumber(this._flycamera_total_time));\n\n      if (this._flycamera_total_time >= this._flycamera_target_time) {\n          this.onEndFlyCamera();\n      }\n\n    }\n\n    /**\n     * @summary flyå®äºå¦ç\n     * <p> Flyå®äºæã«å¼ã³åºããã¾ã </p>\n     *\n     * @protected\n     */\n    onEndFlyCamera() {\n      // unbind\n      this._animation.unbind(\"position\");\n      this._animation.unbind(\"orientation\");\n\n      this._curve_move = null;\n      this._curve_rotation = null;\n\n      this._update_url_hash = this._update_url_hash_backup;       // URLæ´æ°ãã©ã°ã®å¾©å¸°\n      this._viewerCameraMode = StandardUIViewer.CameraMode.CAMERA_FREE;\n      this._resetEventParameter();\n\n      this._flycamera_on_success(); // ããã§å¦çå®äºãéç¥ãã\n      this._flycamera_on_success = null;\n    }\n\n    /**\n     * ã¢ãã¡ã¼ã·ã§ã³ã® BindingBlock ãåæå\n     *\n     * @private\n     */\n    _setupAnimationBindingBlock()\n    {\n        const block = this._animation;  // å®ä½ã¯ EasyBindingBlock\n\n        const vector3 = mapray.animation.Type.find( \"vector3\" );\n\n        // ãã©ã¡ã¼ã¿å: position\n        // ãã©ã¡ã¼ã¿å: vector3\n        //   ãã¯ãã«ã®è¦ç´ ã longitude, latitude, altitude é ã§ããã¨è§£é\n        block.addEntry( \"position\", [vector3], null, value => {\n            this.setCameraPosition(\n              {longitude: value[0], latitude: value[1], height: value[2]}\n            );\n        } );\n\n        // ãã©ã¡ã¼ã¿å: view\n        // ãã©ã¡ã¼ã¿å: vector3\n        //   åã matirix ã®ã¨ãã¯ãã¥ã¼è¡å\n        //   åã vector3 ã®ã¨ããè¦ç´ ã heading, tilt, roll é ã§ããã¨è§£é\n        block.addEntry( \"orientation\", [vector3], null, value => {\n            this._camera_parameter.yaw = value[0];\n            this._camera_parameter.pitch = value[1];\n            this._updateViewerCamera();\n        } );\n    }\n\n    /**\n     * startããtargetãè¦ãããã®ã®headingã¨tiltãç®åº\n     *\n     * @param  {mapray.GeoPoint} start\n     * @param  {mapray.GeoPoint} target\n     *\n     * @private\n     */\n    _getLookAtAngle( start, target )\n    {\n        // ç¾å¨ã®è¦ç·æ¹åãåå¾\n        const s_matrix = start.getMlocsToGocsMatrix( GeoMath.createMatrix() );\n        let s_y_dir = GeoMath.createVector3([s_matrix[4], s_matrix[5], s_matrix[6]]);\n        s_y_dir = GeoMath.normalize3( s_y_dir, GeoMath.createVector3() );\n\n        const t_matrix = target.getMlocsToGocsMatrix( GeoMath.createMatrix() );\n        let t_dir = GeoMath.createVector3([ t_matrix[12] - s_matrix[12], t_matrix[13] - s_matrix[13],ãt_matrix[14] - s_matrix[14] ]);\n        t_dir = GeoMath.normalize3( t_dir, GeoMath.createVector3() );\n\n        const rotate_axis = GeoMath.createVector3([s_matrix[8], s_matrix[9], s_matrix[10]]);\n        const heading_angle = this._calculateAngle( rotate_axis, s_y_dir, t_dir );\n        const s_x_dir = GeoMath.createVector3([s_matrix[8], s_matrix[9], s_matrix[10]]);\n        const rotate_axis2 = GeoMath.createVector3([s_matrix[0], s_matrix[1], s_matrix[2]]);\n\n        t_dir[0] = -1 * t_dir[0];\n        t_dir[1] = -1 * t_dir[1];\n        t_dir[2] = -1 * t_dir[2];\n\n        const tilt_angle = -1.0*GeoMath.clamp(\n          Math.abs( this._calculateAngle( rotate_axis2, s_x_dir, t_dir ) ), 0, 90\n        );\n\n        return {\n            heading: heading_angle,\n            tilt: tilt_angle\n        };\n    }\n\n    /**\n     * @summary ããå°ç¹ããæå®è·é¢ãæå®æ¹åã«ç§»åããä½ç½®ãç®åºãã\n     *\n     * @private\n     * @param {number}            longitude     çµåº¦\n     * @param {number}            latitude      ç·¯åº¦\n     * @param {number}            distance      è·é¢(m)\n     * @param {number}            bearing       æ¹è§\n     * @return {Mapray.GeoPoint}  location_geo\n     */\n    _destination( longitude, latitude, distance, bearing )\n    {\n        const heading_theta = -(180-bearing) * GeoMath.DEGREE;\n        const pos_x = - distance * Math.sin(heading_theta);\n        const pos_y = distance * Math.cos(heading_theta);\n        const target_point = new mapray.GeoPoint(longitude, latitude, 0);\n        const target_matrix = target_point.getMlocsToGocsMatrix( GeoMath.createMatrix() );\n        const target_x = pos_x*target_matrix[0] + pos_y*target_matrix[4] + target_matrix[12];\n        const target_y = pos_x*target_matrix[1] + pos_y*target_matrix[5] + target_matrix[13];\n        const target_z = pos_x*target_matrix[2] + pos_y*target_matrix[6] + target_matrix[14];\n\n        let location_geo = new mapray.GeoPoint();\n        location_geo.setFromGocs( [target_x, target_y, target_z] );\n\n        return location_geo;\n    }\n}\n\nvar CameraMode = {\n    NONE: \"NONE\",\n    CAMERA_FREE: \"CAMERA_FREE\",\n    CAMERA_FLY: \"CAMERA_FLY\",\n};\n\nvar OperationMode = {\n    NONE: \"NONE\",\n    TRANSLATE: \"TRANSLATE\",\n    ROTATE: \"ROTATE\",\n    FREE_ROTATE: \"FREE_ROTATE\",\n    EYE_TRANSLATE: \"EYE_TRANSLATE\",\n    HEIGHT_TRANSLATE: \"HEIGHT_TRANSLATE\",\n    CHANGE_FOVY: \"CHANGE_FOVY\",\n};\n\n{\n    StandardUIViewer.OperationMode = OperationMode;\n    StandardUIViewer.CameraMode = CameraMode;\n\n    // ã«ã¡ã©ä½ç½®ã®åæå¤ï¼æ¬æ æ¹ä»è¿ï¼\n    StandardUIViewer.DEFAULT_CAMERA_POSITION = { latitude: 35.475968, longitude: 138.573161, height: 2000 };\n\n    // æ³¨è¦ç¹ä½ç½®ã®åæå¤ï¼å¯å£«å±±ä»è¿ï¼\n    StandardUIViewer.DEFAULT_LOOKAT_POSITION = { latitude: 35.360626, longitude: 138.727363, height: 2000 };\n\n    // ã«ã¡ã©ãã©ã¡ã¼ã¿ã®åæå¤\n    StandardUIViewer.DEFAULT_CAMERA_PARAMETER = { fov: 60, near: 30, far: 500000, speed_factor: 2000 };\n\n    // ã«ã¡ã©ã¨å°è¡¨é¢ã¾ã§ã®æä½è·é¢\n    StandardUIViewer.MINIMUM_HEIGHT = 2.0;\n\n    // æå°è¿æ¥å¹³é¢è·é¢ (ãã®å¤ã¯ MINIMUM_HEIGHT * 0.5 ããå°ããå¤ãæå®ãã¾ã)\n    StandardUIViewer.MINIMUM_NEAR = 1.0;\n\n    // æå°é æ¹å¹³é¢è·é¢\n    StandardUIViewer.MINIMUM_FAR = 500000;\n\n    // é«åº¦ããã®è¿æ¥å¹³é¢è·é¢ãè¨ç®ããããã®ä¿æ°\n    StandardUIViewer.NEAR_FACTOR = 0.01;\n\n    // è¿æ¥å¹³é¢è·é¢ããã®é æ¹å¹³é¢è·é¢ãè¨ç®ããããã®ä¿æ°\n    StandardUIViewer.FAR_FACTOR = 10000;\n\n    // ç»è§ã®é©ç¨ç¯å²\n    StandardUIViewer.FOV_RANGE = { min: 5, max: 120 };\n\n    // ç»è§ã®åçãÎ¸' = 2 atan(tan(Î¸/2)*f)\n    StandardUIViewer.FOV_FACTOR = 1.148698354997035\n}\n\nexport default StandardUIViewer;\n","import StandardUIViewer from \"./StandardUIViewer\";\n\n/**\n * Mapray UIé¢é£ã®æ©è½ãå«ã¾ããååç©ºé\n * @namespace maprayui\n */\nvar maprayui = {\n    StandardUIViewer: StandardUIViewer\n};\n\nexport default maprayui;\n"],"names":["check","it","Math","globalThis","window","self","global","Function","exec","error","fails","Object","defineProperty","get","nativePropertyIsEnumerable","propertyIsEnumerable","getOwnPropertyDescriptor","NASHORN_BUG","call","V","descriptor","enumerable","bitmap","value","configurable","writable","toString","slice","split","classof","undefined","TypeError","IndexedObject","requireObjectCoercible","input","PREFERRED_STRING","isObject","fn","val","valueOf","hasOwnProperty","key","document","EXISTS","createElement","DESCRIPTORS","a","nativeGetOwnPropertyDescriptor","O","P","toIndexedObject","toPrimitive","IE8_DOM_DEFINE","has","createPropertyDescriptor","propertyIsEnumerableModule","f","String","nativeDefineProperty","Attributes","anObject","object","definePropertyModule","createNonEnumerableProperty","SHARED","store","setGlobal","functionToString","inspectSource","WeakMap","test","module","push","version","mode","IS_PURE","copyright","id","postfix","random","keys","shared","uid","set","enforce","getterFor","TYPE","state","type","NATIVE_WEAK_MAP","wmget","wmhas","wmset","metadata","STATE","sharedKey","hiddenKeys","objectHas","getInternalState","InternalStateModule","enforceInternalState","TEMPLATE","options","unsafe","simple","noTargetGet","source","join","prototype","aFunction","variable","namespace","method","arguments","length","path","ceil","floor","argument","isNaN","min","toInteger","max","index","integer","createMethod","IS_INCLUDES","$this","el","fromIndex","toLength","toAbsoluteIndex","includes","indexOf","require$$0","names","i","result","enumBugKeys","concat","getOwnPropertyNames","internalObjectKeys","getOwnPropertySymbols","getBuiltIn","ownKeys","getOwnPropertyNamesModule","getOwnPropertySymbolsModule","target","getOwnPropertyDescriptorModule","replacement","isForced","feature","detection","data","normalize","POLYFILL","NATIVE","string","replace","toLowerCase","TARGET","GLOBAL","STATIC","stat","FORCED","targetProperty","sourceProperty","forced","copyConstructorProperties","sham","redefine","Array","isArray","arg","propertyKey","Symbol","NATIVE_SYMBOL","iterator","WellKnownSymbolsStore","createWellKnownSymbol","USE_SYMBOL_AS_UID","withoutSetter","name","SPECIES","wellKnownSymbol","originalArray","C","constructor","process","versions","v8","match","userAgent","METHOD_NAME","V8_VERSION","array","foo","Boolean","IS_CONCAT_SPREADABLE","MAX_SAFE_INTEGER","MAXIMUM_ALLOWED_INDEX_EXCEEDED","IS_CONCAT_SPREADABLE_SUPPORT","SPECIES_SUPPORT","arrayMethodHasSpeciesSupport","isConcatSpreadable","spreadable","$","proto","toObject","A","arraySpeciesCreate","n","k","len","E","createProperty","that","b","c","apply","IS_MAP","IS_FILTER","IS_SOME","IS_EVERY","IS_FIND_INDEX","NO_HOLES","callbackfn","specificCreate","boundFunction","bind","create","forEach","map","filter","some","every","find","findIndex","defineProperties","Properties","objectKeys","GT","LT","PROTOTYPE","SCRIPT","IE_PROTO","EmptyConstructor","scriptTag","content","NullProtoObjectViaActiveX","activeXDocument","write","close","temp","parentWindow","NullProtoObjectViaIFrame","iframe","documentCreateElement","JS","iframeDocument","style","display","html","appendChild","src","contentWindow","open","F","NullProtoObject","domain","ActiveXObject","UNSCOPABLES","ArrayPrototype","cache","thrower","ACCESSORS","argument0","argument1","$find","FIND","SKIPS_HOLES","USES_TO_LENGTH","arrayMethodUsesToLength","addToUnscopables","HAS_SPECIES_SUPPORT","nativeSlice","start","end","fin","Constructor","factories","construct","argsLength","args","list","partArgs","bound","sign","x","repeat","count","str","Infinity","RangeError","nativeToFixed","toFixed","pow","acc","log","x2","fractionDigits","number","thisNumberValue","fractDigits","e","z","j","multiply","c2","divide","dataToString","s","t","TO_STRING_TAG","CORRECT_ARGUMENTS","classofRaw","tryGet","TO_STRING_TAG_SUPPORT","tag","callee","whitespace","whitespaces","ltrim","RegExp","rtrim","trim","$parseFloat","parseFloat","trimmedString","charAt","parseFloatImplementation","Promise","TAG","CONSTRUCTOR_NAME","ITERATOR","Iterators","ENTRIES","returnMethod","Result","stopped","iterate","iterable","AS_ENTRIES","IS_ITERATOR","iterFn","next","step","getIteratorMethod","isArrayIteratorMethod","done","callWithSafeIterationClosing","stop","SAFE_CLOSING","called","iteratorWithReturn","from","SKIP_CLOSING","ITERATION_SUPPORT","defaultConstructor","S","location","setImmediate","clear","clearImmediate","MessageChannel","Dispatch","counter","queue","ONREADYSTATECHANGE","defer","channel","port","run","runner","listener","event","post","postMessage","protocol","host","nextTick","now","IS_IOS","port2","port1","onmessage","addEventListener","importScripts","removeChild","setTimeout","macrotask","require$$1","MutationObserver","WebKitMutationObserver","IS_NODE","queueMicrotaskDescriptor","queueMicrotask","flush","head","last","notify","toggle","node","promise","then","parent","exit","enter","createTextNode","observe","characterData","resolve","task","PromiseCapability","reject","$$resolve","$$reject","promiseCapability","newPromiseCapability","console","PROMISE","setInternalState","getInternalPromiseState","PromiseConstructor","NativePromise","$fetch","newPromiseCapabilityModule","newGenericPromiseCapability","DISPATCH_EVENT","createEvent","dispatchEvent","UNHANDLED_REJECTION","REJECTION_HANDLED","PENDING","FULFILLED","REJECTED","HANDLED","UNHANDLED","Internal","OwnPromiseCapability","PromiseWrapper","nativeThen","GLOBAL_CORE_JS_PROMISE","PromiseRejectionEvent","FakePromise","INCORRECT_ITERATION","checkCorrectnessOfIteration","all","isThenable","isReject","notified","chain","reactions","microtask","ok","reaction","handler","fail","exited","rejection","onHandleUnhandled","onUnhandled","reason","initEvent","hostReportErrors","IS_UNHANDLED","isUnhandled","perform","emit","unwrap","internalReject","internalResolve","wrapper","executor","anInstance","redefineAll","onFulfilled","onRejected","speciesConstructor","fetch","promiseResolve","wrap","setToStringTag","setSpecies","r","capability","$promiseResolve","values","remaining","alreadyCalled","race","ignoreCase","multiline","dotAll","unicode","sticky","RE","re","lastIndex","nativeExec","nativeReplace","patchedExec","UPDATES_LAST_INDEX_WRONG","re1","re2","UNSUPPORTED_Y","stickyHelpers","BROKEN_CARET","NPCG_INCLUDED","PATCH","reCopy","flags","regexpFlags","charsAdded","strCopy","REPLACE_SUPPORTS_NAMED_GROUPS","groups","REPLACE_KEEPS_$0","REPLACE","REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE","SPLIT_WORKS_WITH_OVERWRITTEN_EXEC","originalExec","KEY","SYMBOL","DELEGATES_TO_SYMBOL","DELEGATES_TO_EXEC","execCalled","nativeRegExpMethod","methods","nativeMethod","regexp","arg2","forceStringMethod","regexpExec","stringMethod","regexMethod","MATCH","isRegExp","CONVERT_TO_STRING","pos","position","size","first","second","charCodeAt","codeAt","R","arrayPush","MAX_UINT32","SUPPORTS_Y","fixRegExpWellKnownSymbolLogic","SPLIT","nativeSplit","maybeCallNative","internalSplit","separator","limit","lim","output","lastLastIndex","separatorCopy","lastLength","splitter","res","rx","unicodeMatching","callRegExpExec","p","q","advanceStringIndex","runtime","exports","Op","hasOwn","$Symbol","iteratorSymbol","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","toStringTag","define","obj","err","innerFn","outerFn","tryLocsList","protoGenerator","Generator","generator","context","Context","_invoke","makeInvokeMethod","tryCatch","GenStateSuspendedStart","GenStateSuspendedYield","GenStateExecuting","GenStateCompleted","ContinueSentinel","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","getProto","getPrototypeOf","NativeIteratorPrototype","Gp","displayName","defineIteratorMethods","isGeneratorFunction","genFun","ctor","mark","setPrototypeOf","__proto__","awrap","__await","AsyncIterator","PromiseImpl","invoke","record","unwrapped","previousPromise","enqueue","callInvokeWithMethodAndArg","async","iter","Error","doneResult","delegate","delegateResult","maybeInvokeDelegate","sent","_sent","dispatchException","abrupt","info","resultName","nextLoc","pushTryEntry","locs","entry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","resetTryEntry","completion","reset","reverse","pop","iteratorMethod","skipTempReset","prev","rootEntry","rootRecord","rval","exception","handle","loc","caught","hasCatch","hasFinally","finallyEntry","complete","finish","thrown","delegateYield","regeneratorRuntime","accidentalStrictMode","GeoMath","mapray","GeoPoint","StandardUIViewer","container","access_token","createViewer","_camera_parameter","latitude","longitude","height","pitch","yaw","fov","near","far","_operation_mode","OperationMode","NONE","_mouse_down_position","createVector2f","_pre_mouse_position","_rotate_center","createVector3","_translate_drag","_translate_eye_drag","_rotate_drag","_free_rotate_drag","_height_drag","_zoom_wheel","_fovy_key","_default_fov","DEFAULT_CAMERA_PARAMETER","_key_mode","_update_url_hash","_update_url_hash_full_digits","_last_camera_parameter","_viewerCameraMode","CameraMode","CAMERA_FREE","_animation","animation","EasyBindingBlock","_updater","Updater","_curve_move","_curve_rotation","_flycamera_total_time","_flycamera_target_time","_flyPosition","_flyRotation","setIdentity","createMatrix","_initCameraParameter","_viewer","destroy","Viewer","dem_provider","_createDemProvider","image_provider","_createImageProvider","layers","render_callback","render_mode","RenderMode","SURFACE","debug_stats","attribution_controller","element","_canvas_element","setAttribute","_addEventListener","_removeEventListener","CloudDemProvider","StandardImageProvider","camera_position","DEFAULT_CAMERA_POSITION","lookat_position","DEFAULT_LOOKAT_POSITION","camera_parameter","setCameraPosition","setLookAtPosition","setCameraParameter","_updateViewerCamera","url_yaw","url_update","setURLUpdate","url_parameter","_extractURLParameter","urlHash","hash","split_parameter","isFinite","target_altitude","altitude","range","tilt","heading","num","converted_value","_getURLParameterValue","tilt_theta","DEGREE","camera_z","cos","flat_length","sin","camera_geoPoint","_destination","NaN","canvas","_onBlur","_onMouseDown","_onMouseMove","_onMouseUp","_onMouseWheel","_onKeyDown","_onKeyUp","passive","capture","removeEventListener","delta_time","CAMERA_FLY","updateFlyCamera","_translation","_rotation","_freeRotation","_translationOfHeight","_translationOfEyeDirection","_changeFovy","_correctAltitude","_updateClipPlane","camera","camera_matrix","getMlocsToGocsMatrix","pitch_matrix","rotation_matrix","yaw_matrix","eye_matrix","mul_AA","view_to_gocs","_updateURLHash","flag","canvas_element","center_position","width","ray","viewer","getCanvasRay","Ray","cross_point","getRayIntersection","cross_geoPoint","setFromGocs","cross_altitude","getElevation","target_geoPoint","target_pos","getAsGocs","len_x","len_y","len_z","sqrt","new_hash","lat","lon","alt","elevation","MINIMUM_HEIGHT","NEAR_FACTOR","MINIMUM_NEAR","FAR_FACTOR","MINIMUM_FAR","_resetEventParameter","onBlur","point","button","shiftKey","ROTATE","ctrlKey","FREE_ROTATE","TRANSLATE","HEIGHT_TRANSLATE","EYE_TRANSLATE","_mousePos","onMouseDown","mouse_position","onMouseMove","onMouseUp","preventDefault","zoom","deltaY","abs","onMouseWheel","CHANGE_FOVY","onKeyDown","onKeyUp","start_position","end_mouse_position","end_position","start_spherical_position","end_spherical_position","variable_A","_getVectorLength","direction","variable_B","dot3","variable_C","EARTH_RADIUS","variable_D","variable_t1","variable_t2","variable_t","delta_latitude","delta_longitude","camera_direction","center_geoPoint","center_matrix","rotate_axis","normalize3","yaw_angle","pitch_angle","rotated_direction","_rotateVector","after_pitch","clamp","new_position","new_spherical_position","height_drag","factor","gudermannian","PI","delta_height","translation_center","center_spherical_position","translation_vector","new_camera_gocs_position","new_camera_spherical_position","z_over","up","getUpwardVector","translation_vector_length","up_dot_dir","scale3","tanÎ¸h","tan","Î¸","atan","FOV_FACTOR","FOV_RANGE","value1","value2","threshold","threshold_value","_isSame","current_camera_geoPoint","current_camera_matrix","current_y_direction","target_camera_geoPoint","target_camera_matrix","target_camera_direction","_calculateAngle","current_camera_direction","pitch_axis","parameter","speed_factor","getLayer","num_layers","layer","add","insert","remove","scene","getEntity","num_entities","entity","addEntity","removeEntity","clearEntity","vector","axis","angle","rotate_matrix","target_vector","basis_vector","a_vector","dot_value","b_vector","acos","cross_vector","cross3","rect","getBoundingClientRect","clientX","left","clientLeft","clientY","top","clientTop","time","iscs_end","curves","createFlyCurve","move","rotation","_setupAnimationBindingBlock","_update_url_hash_backup","onSuccess","onError","_flycamera_on_success","fly_param","fly_iscs_start","iscs_start","fly_iscs_end","target_angle","start_top","end_top","roll","TOP_ALTITUDE","end_from_lookat","end_altitude","target_clamp","to_camera","getElevationFunc","cam_target","_getLookAtAngle","to","higest","getGeographicalDistance","_calculateKeyPoint","keyframes_m","keyframes_r","curve_move","KFLinearCurve","Type","curve_rotation","interval","up_flag","Time","fromNumber","setKeyFrames","_roll","update","onEndFlyCamera","unbind","block","vector3","addEntry","s_matrix","s_y_dir","t_matrix","t_dir","heading_angle","s_x_dir","rotate_axis2","tilt_angle","distance","bearing","heading_theta","pos_x","pos_y","target_point","target_matrix","target_x","target_y","target_z","location_geo","RenderCallback","maprayui"],"mappings":"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"}